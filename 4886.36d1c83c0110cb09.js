(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4886],{4886:(M,m,f)=>{"use strict";f.r(m),f.d(m,{FolderPageModule:()=>to});var u=f(6895),a=f(4006),o=f(2977),l=f(8729),d=f(5861),c=f(529),e=f(4650),_=f(6363),g=f(2340);let w=(()=>{class n{constructor(t,i){this.http=t,this._authService=i,this.endpointBase=g.N.endpointBase,this.headers={Authorization:`Bearer ${localStorage.getItem("token")}`}}makeBooking(t){return this.http.post(this.endpointBase.concat("Booking/Make"),t,{observe:"events",reportProgress:!0,headers:this.headers})}getAllByLoggedInUser(){return this.http.get(this.endpointBase.concat("Booking/GetAll/ByLoggedInUser"),{reportProgress:!0,observe:"events",headers:this.headers})}delete(t){return this.http.delete(this.endpointBase.concat("Booking/"+t),{reportProgress:!0,observe:"events",headers:this.headers})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(c.eN),e.LFG(_.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var q=f(7009);function v(n,r){if(1&n&&(e.TgZ(0,"ion-row",9)(1,"ion-row")(2,"ion-col")(3,"div"),e._uU(4),e.qZA()()(),e.TgZ(5,"ion-row",10)(6,"ion-col")(7,"div"),e._uU(8),e.qZA()(),e.TgZ(9,"ion-col")(10,"div"),e._uU(11),e.qZA()()()()),2&n){const t=r.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(4),e.Oqu(t.slotDay),e.xp6(3),e.AsE("",t.slotStartTime," - ",t.slotEndTime,"")}}function b(n,r){if(1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Previous Bookings"),e.qZA()(),e.TgZ(4,"ion-card-content")(5,"ion-grid"),e.YNc(6,v,12,4,"ion-row",8),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.passedBookings)}}function N(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-row",9)(1,"ion-row")(2,"ion-col")(3,"div"),e._uU(4),e.qZA()()(),e.TgZ(5,"ion-row",10)(6,"ion-col")(7,"div"),e._uU(8),e.qZA()(),e.TgZ(9,"ion-col")(10,"div"),e._uU(11),e.qZA()(),e.TgZ(12,"ion-col")(13,"div")(14,"ion-icon",11),e.NdJ("click",function(){const p=e.CHM(t).$implicit,h=e.oxw(2);return e.KtG(h.onDeleteBooking(p))}),e.qZA()()()()()}if(2&n){const t=r.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(4),e.Oqu(t.slotDay),e.xp6(3),e.AsE("",t.slotStartTime," - ",t.slotEndTime,"")}}function J(n,r){if(1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Upcomming Bookings"),e.qZA()(),e.TgZ(4,"ion-card-content")(5,"ion-grid"),e.YNc(6,N,15,4,"ion-row",8),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.upcomingBookings)}}function Q(n,r){1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Not bookings made"),e.qZA()()())}let P=(()=>{class n{constructor(t,i,s,p,h){this._authService=t,this._bookingService=i,this._router=s,this.alertController=p,this._snackBar=h,this.bookings=[],this.passedBookings=[],this.upcomingBookings=[],this._getBookingsFromServer()}ngOnInit(){}onLogOut(){this._authService.signOut()}onNavigateToHome(){this._router.navigate(["home"])}_getBookingsFromServer(){this._bookingService.getAllByLoggedInUser().subscribe({next:t=>{t.type==c.dt.Response&&(this.bookings=t.body,this.bookings.forEach(s=>{"Passed"==s.bookingStatus&&this.passedBookings.push(s),"Upcoming"==s.bookingStatus&&this.upcomingBookings.push(s)}))},error:t=>{this.presentServerErrorAlert(t.error.message)},complete:()=>{}})}onDeleteBooking(t){this._bookingService.delete(t.id).subscribe({next:i=>{i.type==c.dt.Response&&(this._openSnackBar("Booking Cancelled","Success",3e3),location.reload())},error:i=>{this.presentServerErrorAlert(i.error.message)},complete:()=>{}})}_openSnackBar(t,i,s){this._snackBar.open(t,i,{duration:s})}presentServerErrorAlert(t){var i=this;return(0,d.Z)(function*(){const s=yield i.alertController.create({cssClass:"my-custom-class",header:"Error",subHeader:"",message:t,buttons:["OK"]});yield s.present(),yield s.onDidDismiss()})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.e),e.Y36(w),e.Y36(l.F0),e.Y36(o.Br),e.Y36(q.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-bookings"]],decls:15,vars:5,consts:[[3,"translucent"],["slot","start"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen"],[4,"ngIf"],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"],["class","booking-row",4,"ngFor","ngForOf"],[1,"booking-row"],[1,"booking-info-below"],["name","trash",1,"delete-icon",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"My Bookings"),e.qZA(),e.TgZ(6,"ion-buttons",2),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(7,"ion-icon",3),e.qZA()()(),e.TgZ(8,"ion-content",4),e.YNc(9,b,7,1,"ion-card",5),e.YNc(10,J,7,1,"ion-card",5),e.YNc(11,Q,4,0,"ion-card",5),e.TgZ(12,"ion-card",6)(13,"ion-button",7),e.NdJ("click",function(){return i.onNavigateToHome()}),e._uU(14,"Go to Home "),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(8),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",i.bookings.length>0),e.xp6(1),e.Q6J("ngIf",i.bookings.length>0),e.xp6(1),e.Q6J("ngIf",0==i.bookings.length))},dependencies:[u.sg,u.O5,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.wI,o.W2,o.jY,o.Gu,o.gu,o.Nd,o.sr,o.wd,o.cs],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}.form-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.inline-form-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.form-field[_ngcontent-%COMP%]{width:100%;margin:0 .2rem}mat-label[_ngcontent-%COMP%]{color:#121111}  .mat-select-value{color:#121111!important}.control-buttons[_ngcontent-%COMP%]{display:flex;width:100%}.submit-button[_ngcontent-%COMP%]{width:100%}.delete-icon[_ngcontent-%COMP%]:hover{color:red}.booking-info-below[_ngcontent-%COMP%]{display:flex;width:100%}.booking-row[_ngcontent-%COMP%]{margin-bottom:.5rem;border-bottom:outset}"]}),n})(),L=(()=>{class n{constructor(t){this._httpClient=t,this.endpointBase=g.N.endpointBase,this.headers={Authorization:`Bearer ${localStorage.getItem("token")}`}}getAll(){return this._httpClient.get(this.endpointBase.concat("BookingType"),{reportProgress:!0,observe:"events",headers:this.headers})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(c.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S=(()=>{class n{constructor(t){this._httpClient=t,this.endpointBase=g.N.endpointBase,this.headers={Authorization:`Bearer ${localStorage.getItem("token")}`}}getAllGroupedByDays(){return this._httpClient.get(this.endpointBase.concat("Slot/All/GroupedByDays"),{reportProgress:!0,observe:"events",headers:this.headers})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(c.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var C=f(9549),Y=f(284),D=f(4385),Z=f(3238);function I(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide your name."),e.qZA())}function A(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,I,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Name.errors.required)}}function y(n,r){if(1&n&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function B(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide booking type."),e.qZA())}function x(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,B,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.BookingTypeId.errors.required)}}function T(n,r){if(1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Selected Slot"),e.qZA()(),e.TgZ(4,"ion-card-content")(5,"ion-item")(6,"ion-label"),e._uU(7),e.qZA(),e.TgZ(8,"ion-note",18),e._uU(9),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(7),e.Oqu(t.selectedDate.date),e.xp6(2),e.AsE("",t.selectedTime.fromTime," - ",t.selectedTime.toTime,"")}}function O(n,r){if(1&n&&(e.TgZ(0,"ion-item-divider")(1,"ion-label"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.date)}}function U(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label",20),e.NdJ("click",function(){const p=e.CHM(t).$implicit,h=e.oxw().$implicit,k=e.oxw(3);return e.KtG(k.onSlotSelected(p,h))}),e._uU(2),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(2),e.AsE("",t.fromTime," - ",t.toTime," ")}}function K(n,r){if(1&n&&(e.TgZ(0,"ion-item-group"),e.YNc(1,O,3,1,"ion-item-divider",10),e.YNc(2,U,3,2,"ion-item",19),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.slots.length>0),e.xp6(1),e.Q6J("ngForOf",t.slots)}}function W(n,r){if(1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Available slots"),e.qZA()(),e.TgZ(4,"ion-card-content")(5,"ion-list"),e.YNc(6,K,3,2,"ion-item-group",19),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.slots)}}function me(n,r){1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"No Available slots"),e.qZA()()())}function ce(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"form",6)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e._uU(4,"Booking Details"),e.qZA()(),e.TgZ(5,"ion-card-content")(6,"div",7)(7,"mat-form-field",8)(8,"mat-label"),e._uU(9," Name"),e.qZA(),e._UZ(10,"input",9),e.YNc(11,A,2,1,"mat-error",10),e.qZA()(),e.TgZ(12,"div",7)(13,"mat-form-field",8)(14,"mat-label"),e._uU(15,"Booking Type"),e.qZA(),e.TgZ(16,"mat-select",11)(17,"mat-option",12),e._uU(18," --Select option--"),e.qZA(),e.YNc(19,y,2,2,"mat-option",13),e.qZA(),e.YNc(20,x,2,1,"mat-error",10),e.qZA()()()(),e.YNc(21,T,10,3,"ion-card",10),e.YNc(22,W,7,1,"ion-card",10),e.YNc(23,me,4,0,"ion-card",10),e.TgZ(24,"ion-card",14)(25,"ion-button",15),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onNavigateToHome())}),e._uU(26,"Cancel"),e.qZA(),e.TgZ(27,"ion-button",16),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e._uU(28,"Make Booking"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(11),e.Q6J("ngIf",t.Name.touched&&t.Name.invalid),e.xp6(8),e.Q6J("ngForOf",t.bookingTypes),e.xp6(1),e.Q6J("ngIf",t.BookingTypeId.touched&&t.BookingTypeId.invalid),e.xp6(1),e.Q6J("ngIf",null!=t.selectedDate),e.xp6(1),e.Q6J("ngIf",t.slotsAvailable),e.xp6(1),e.Q6J("ngIf",!t.slotsAvailable),e.xp6(4),e.Q6J("disabled",!t.slotsAvailable)}}let fe=(()=>{class n{constructor(t,i,s,p,h,k,F,E){this.alertController=t,this._snackBar=i,this._formBuilder=s,this._bookingService=p,this._router=h,this._authService=k,this._bookingTypeService=F,this._slotService=E,this.submitted=!1,this.bookingTypes=[],this.slots=[],this.slotsAvailable=!1}ngOnInit(){this._getBookingTypesFromServer(),this._getSlotsGroupedByDays()}onSubmit(){this.submitted=!0;let t={};if(!this.form.valid)return!1;this.form.valid&&(null==this.selectedTime?this._openSnackBar("Select Slot","Error",3e3):(t.Name=this.Name.value,t.BookingTypeId=this.BookingTypeId.value,t.SlotId=this.selectedTime.slotId,this._bookingService.makeBooking(t).subscribe(i=>{i.type===c.dt.Response&&(this._openSnackBar("Make booking","Sucess",3e3),this._router.navigate(["folder/list-bookings"]))},i=>{this.presentServerErrorAlert(i.error.message)})))}onSlotSelected(t,i){this.selectedDate=i,this.selectedTime=t}_openSnackBar(t,i,s){this._snackBar.open(t,i,{duration:s})}presentServerErrorAlert(t){var i=this;return(0,d.Z)(function*(){const s=yield i.alertController.create({cssClass:"my-custom-class",header:"Error",subHeader:"",message:t,buttons:["OK"]});yield s.present(),yield s.onDidDismiss()})()}onNavigateToHome(){this._router.navigate(["home"])}onLogOut(){this._authService.signOut()}_getSlotsGroupedByDays(){this._slotService.getAllGroupedByDays().subscribe({next:t=>{t.type==c.dt.Response&&(this.slots=t.body,this.slots.forEach(s=>{s.slots.length>0&&(this.slotsAvailable=!0)}))},error:t=>{},complete:()=>{}})}_getBookingTypesFromServer(){this._bookingTypeService.getAll().subscribe({next:t=>{t.type==c.dt.Response&&(this.bookingTypes=t.body,this.buildForm(this._formBuilder))},error:t=>{},complete:()=>{}})}buildForm(t){this.form=t.group({Name:["",[a.kI.required]],BookingTypeId:["",[a.kI.required]]})}get Name(){return this.form.get("Name")}get BookingTypeId(){return this.form.get("BookingTypeId")}get errorCtr(){return this.form.controls}getFormValidationErrors(t){Object.keys(t.controls).forEach(i=>{const s=t.get(i).errors;null!=s&&Object.keys(s).forEach(p=>{console.log("Key control: "+i+", keyError: "+p+", err value: ",s[p])})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.Br),e.Y36(q.ux),e.Y36(a.qu),e.Y36(w),e.Y36(l.F0),e.Y36(_.e),e.Y36(L),e.Y36(S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-make-booking"]],decls:10,vars:3,consts:[[3,"translucent"],["slot","start"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"inline-form-field"],["appearance","outline",1,"form-field"],["type","text","matInput","","formControlName","Name","required",""],[4,"ngIf"],["formControlName","BookingTypeId"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"],["color","primary","type","submit",1,"submit-button",3,"disabled","click"],[3,"value"],["slot","end","color","primary"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Make New Booking"),e.qZA(),e.TgZ(6,"ion-buttons",2),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(7,"ion-icon",3),e.qZA()()(),e.TgZ(8,"ion-content",4),e.YNc(9,ce,29,8,"form",5),e.qZA()),2&t&&(e.Q6J("translucent",!0),e.xp6(8),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",null!=i.form))},dependencies:[u.sg,u.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.Gu,o.gu,o.Ie,o.rH,o.Ub,o.Q$,o.q_,o.uN,o.sr,o.wd,o.cs,C.TO,C.KE,C.hX,Y.Nt,D.gD,Z.ey],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}.form-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.inline-form-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.form-field[_ngcontent-%COMP%]{width:100%;margin:0 .2rem}mat-label[_ngcontent-%COMP%]{color:#121111}  .mat-select-value{color:#121111!important}.control-buttons[_ngcontent-%COMP%]{display:flex;width:100%}.submit-button[_ngcontent-%COMP%]{width:100%}"]}),n})(),re=(()=>{class n{constructor(t,i){this._authService=t,this._router=i}ngOnInit(){}onNavigateToMakeBooking(){this._router.navigate(["folder/make-new-booking"])}onNavigateToListBookings(){this._router.navigate(["folder/list-bookings"])}onNavigateToHome(){this._router.navigate(["home"])}onLogOut(){this._authService.signOut()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.e),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manage-bookings"]],decls:24,vars:2,consts:[[3,"translucent"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen"],[1,"container"],[3,"click"],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Manage Bookings"),e.qZA(),e.TgZ(4,"ion-buttons",1),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(5,"ion-icon",2),e.qZA()()(),e.TgZ(6,"ion-content",3)(7,"div",4)(8,"ion-grid")(9,"ion-row")(10,"ion-col",5),e.NdJ("click",function(){return i.onNavigateToListBookings()}),e.TgZ(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),e._uU(14,"View My Bookings"),e.qZA()()()()(),e.TgZ(15,"ion-row")(16,"ion-col",5),e.NdJ("click",function(){return i.onNavigateToMakeBooking()}),e.TgZ(17,"ion-card")(18,"ion-card-header")(19,"ion-card-title"),e._uU(20,"New Booking"),e.qZA()()()()()()(),e.TgZ(21,"ion-card",6)(22,"ion-button",7),e.NdJ("click",function(){return i.onNavigateToHome()}),e._uU(23,"Go to Home"),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0))},dependencies:[o.YG,o.Sm,o.PM,o.Zi,o.Dq,o.wI,o.W2,o.jY,o.Gu,o.gu,o.Nd,o.sr,o.wd],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.submit-button[_ngcontent-%COMP%]{width:100%}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}ion-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center}ion-card[_ngcontent-%COMP%]{border-radius:20px}"]}),n})();class R{static saIdValidator(r){let i=r.value.slice(0,6),s=r.value.slice(6,10),p=r.value.slice(10,11),h=r.value.slice(0,12),k=r.value.slice(12);return console.log("Status for "+r.value),console.log("Dob valid = "+R.isDOBValid(i)),console.log("Gender valid = "+R.isGenderValid(s)),console.log("Citizen valid = "+R.isCitizenValid(p)),console.log("Checksum valid = "+R.isCheckSumValid(h,k)),R.isDOBValid(i)&&R.isGenderValid(s)&&R.isCitizenValid(p)&&R.isCheckSumValid(h,k)?null:{invalidsaid:!0}}static isDOBValid(r){let t=Number(r.slice(0,2)),i=Number(r.slice(2,4)),s=Number(r.slice(4,6)),p=new Date(t,i-1,s);return t==Number(p.getFullYear().toString().substr(-2))&&i==p.getMonth()+1&&s==p.getDate()}static isGenderValid(r){return Number(r)>0&&Number(r)<1e4}static isCitizenValid(r){return 0==Number(r)||1==Number(r)}static isCheckSumValid(r,t){let i=R.getValidChecksumDigitViaLuhn(r.split("").map(Number));return console.log("Comparing validchecksum = "+i+", "+t),Number(t)==i}static getValidChecksumDigitViaLuhn(r){let t=0,i=2;for(let s=r.length-1;s>-1;s--){if(i%2==0){let p=2*r[s];if(p>0){let h=String(p).split("").map(Number),k=0;h.forEach(F=>{k+=F}),t+=k}else t+=p}else t+=r[s];i+=1}return(10-t%10)%10}}let ee=(()=>{class n{constructor(t,i){this.http=t,this._authService=i,this.endpointBase=g.N.endpointBase,this.headers={Authorization:`Bearer ${localStorage.getItem("token")}`}}add(t){return this.http.post(this.endpointBase.concat("Child/Add"),t,{observe:"events",reportProgress:!0,headers:this.headers})}updateByParent(t){return this.http.post(this.endpointBase.concat("Child/EditByParent"),t,{observe:"events",reportProgress:!0,headers:this.headers})}getByParentEmailAddress(){return this.http.get(this.endpointBase.concat("Child/ByParentEmail/"+this._authService.currentUser.UserName),{reportProgress:!0,observe:"events",headers:this.headers})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(c.eN),e.LFG(_.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ie=(()=>{class n{constructor(t,i){this._httpClient=t,this._authService=i,this.endpointBase=g.N.endpointBase,this.headers={Authorization:`Bearer ${localStorage.getItem("token")}`}}getRecentByUserName(){return this._httpClient.get(this.endpointBase.concat("Applications/ByParentEmail/"+this._authService.currentUser.UserName),{reportProgress:!0,observe:"events",headers:this.headers})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(c.eN),e.LFG(_.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _e(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide name"),e.qZA())}function ae(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"name is invalid"),e.qZA())}function ue(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function H(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,_e,2,0,"div",9),e.YNc(2,ae,2,0,"div",9),e.YNc(3,ue,2,0,"div",9),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Name.errors.required),e.xp6(1),e.Q6J("ngIf",t.Name.errors.pattern),e.xp6(1),e.Q6J("ngIf",t.Name.errors.maxlength)}}function j(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide your surname."),e.qZA())}function X(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"surname is invalid."),e.qZA())}function se(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function Te(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,j,2,0,"div",9),e.YNc(2,X,2,0,"div",9),e.YNc(3,se,2,0,"div",9),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Surname.errors.required),e.xp6(1),e.Q6J("ngIf",t.Surname.errors.pattern),e.xp6(1),e.Q6J("ngIf",t.Surname.errors.maxlength)}}function be(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide gender."),e.qZA())}function Ae(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,be,2,0,"div",9),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Gender.errors.required)}}function xe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide date of birth."),e.qZA())}function we(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,xe,2,0,"div",9),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.DateOfBirth.errors.required)}}function Ne(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please specify Identity doc type"),e.qZA())}function qe(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Ne,2,0,"div",9),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.IdentityType.errors.required)}}function Ie(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"ID number is invalid"),e.qZA())}function Se(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Ie,2,0,"div",9),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.SAIDNumber)}}function Ue(n,r){if(1&n&&(e.TgZ(0,"mat-form-field",7)(1,"mat-label"),e._uU(2,"SA Identity Number"),e.qZA(),e._UZ(3,"input",28),e.YNc(4,Se,2,1,"mat-error",9),e.qZA()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngIf",t.SAIDNumber.touched&&t.SAIDNumber.invalid)}}function ke(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Passport Number is required."),e.qZA())}function Pe(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,ke,2,0,"div",9),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.PassportNumber.errors.required)}}function Be(n,r){if(1&n&&(e.TgZ(0,"mat-form-field",7)(1,"mat-label"),e._uU(2,"Passport Number"),e.qZA(),e._UZ(3,"input",29),e.YNc(4,Pe,2,1,"mat-error",9),e.qZA()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngIf",t.PassportNumber.touched&&t.PassportNumber.invalid)}}function Oe(n,r){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,Ue,5,1,"mat-form-field",27),e.YNc(2,Be,5,1,"mat-form-field",27),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","SA ID"==t.IdentityType.value),e.xp6(1),e.Q6J("ngIf","Passport"==t.IdentityType.value)}}function Me(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Address line 1 required"),e.qZA())}function Le(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function Ee(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Me,2,0,"div",9),e.YNc(2,Le,2,0,"div",9),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AddressLine1.errors.required),e.xp6(1),e.Q6J("ngIf",t.AddressLine1.errors.maxlength)}}function Je(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Address line 2 required"),e.qZA())}function Ye(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function Qe(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Je,2,0,"div",9),e.YNc(2,Ye,2,0,"div",9),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AddressLine2.errors.required),e.xp6(1),e.Q6J("ngIf",t.AddressLine2.errors.maxlength)}}function De(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please provide City or town."),e.qZA())}function Fe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function Re(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,De,2,0,"div",9),e.YNc(2,Fe,2,0,"div",9),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.City.errors.required),e.xp6(1),e.Q6J("ngIf",t.City.errors.maxlength)}}function Ge(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide zip code."),e.qZA())}function Ve(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Zip code must have 4 numbers"),e.qZA())}function ze(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Ge,2,0,"div",9),e.YNc(2,Ve,2,0,"div",9),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ZipCode.errors.required),e.xp6(1),e.Q6J("ngIf",t.ZipCode.errors.pattern)}}function He(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"form",5),e.NdJ("submit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e.TgZ(1,"ion-card")(2,"div",6)(3,"mat-form-field",7)(4,"mat-label"),e._uU(5," Name"),e.qZA(),e._UZ(6,"input",8),e.YNc(7,H,4,3,"mat-error",9),e.qZA()(),e.TgZ(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"Surname"),e.qZA(),e._UZ(12,"input",10),e.YNc(13,Te,4,3,"mat-error",9),e.qZA()(),e.TgZ(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Gender"),e.qZA(),e.TgZ(18,"mat-select",11)(19,"mat-option",12),e._uU(20," --Select option--"),e.qZA(),e.TgZ(21,"mat-option",13),e._uU(22," Male "),e.qZA(),e.TgZ(23,"mat-option",13),e._uU(24," Female "),e.qZA()(),e.YNc(25,Ae,2,1,"mat-error",9),e.qZA()(),e.TgZ(26,"div",14)(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Date Of Birth"),e.qZA(),e._UZ(30,"input",15),e.YNc(31,we,2,1,"mat-error",9),e.qZA()(),e.TgZ(32,"div",6)(33,"mat-form-field",7)(34,"mat-label"),e._uU(35,"Identity Doc Type"),e.qZA(),e.TgZ(36,"mat-select",16)(37,"mat-option",12),e._uU(38," --Select option--"),e.qZA(),e.TgZ(39,"mat-option",17),e._uU(40," SA ID "),e.qZA(),e.TgZ(41,"mat-option",18),e._uU(42," Passport "),e.qZA()(),e.YNc(43,qe,2,1,"mat-error",9),e.qZA()(),e.YNc(44,Oe,3,2,"div",19),e.qZA(),e.TgZ(45,"ion-card")(46,"div",6)(47,"mat-form-field",7)(48,"mat-label"),e._uU(49,"Address Line 1"),e.qZA(),e._UZ(50,"input",20),e.YNc(51,Ee,3,2,"mat-error",9),e.qZA()(),e.TgZ(52,"div",6)(53,"mat-form-field",7)(54,"mat-label"),e._uU(55,"Address Line 2"),e.qZA(),e._UZ(56,"input",21),e.YNc(57,Qe,3,2,"mat-error",9),e.qZA()(),e.TgZ(58,"div",6)(59,"mat-form-field",7)(60,"mat-label"),e._uU(61,"City / Town"),e.qZA(),e._UZ(62,"input",22),e.YNc(63,Re,3,2,"mat-error",9),e.qZA()(),e.TgZ(64,"div",6)(65,"mat-form-field",7)(66,"mat-label"),e._uU(67,"Zip Code"),e.qZA(),e._UZ(68,"input",23),e.YNc(69,ze,3,2,"mat-error",9),e.qZA()()(),e.TgZ(70,"ion-card",24)(71,"ion-button",25),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onNavigateToHome())}),e._uU(72,"Cancel"),e.qZA(),e.TgZ(73,"ion-button",26),e._uU(74,"Create"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(7),e.Q6J("ngIf",t.Name.touched&&t.Name.invalid),e.xp6(6),e.Q6J("ngIf",t.Surname.touched&&t.Surname.invalid),e.xp6(12),e.Q6J("ngIf",t.Gender.touched&&t.Gender.invalid),e.xp6(5),e.Q6J("max",t.maxDate),e.xp6(1),e.Q6J("ngIf",t.DateOfBirth.touched&&t.Surname.invalid),e.xp6(12),e.Q6J("ngIf",t.IdentityType.touched&&t.IdentityType.invalid),e.xp6(1),e.Q6J("ngIf",""!=t.IdentityType.value),e.xp6(7),e.Q6J("ngIf",t.AddressLine1.touched&&t.AddressLine1.invalid),e.xp6(6),e.Q6J("ngIf",t.AddressLine2.touched&&t.AddressLine2.invalid),e.xp6(6),e.Q6J("ngIf",t.City.touched&&t.City.invalid),e.xp6(6),e.Q6J("ngIf",t.ZipCode.touched&&t.ZipCode.invalid)}}let je=(()=>{class n{constructor(t,i,s,p,h,k,F){this.alertController=t,this._snackBar=i,this._formBuilder=s,this._childService=p,this._applicationsService=h,this._authService=k,this._router=F,this.submitted=!1,this.maxDate=(new Date).toISOString().slice(0,10),this._getRecentApplicationFromServer()}ngOnInit(){}onSubmit(){this.submitted=!0;let t={};if("SA ID"===this.IdentityType.value&&(this.PassportNumber.setValue("EMPTY"),t.PassportOrSAIDNumber=this.SAIDNumber.value),"Passport"===this.IdentityType.value&&(t.PassportOrSAIDNumber=this.PassportNumber.value,this.SAIDNumber.setValue("EMPTY")),!this.form.valid)return this.getFormValidationErrors(this.form),!1;this.form.valid&&(console.log(this.form.value),t.Gender=this.Gender.value,t.ApplicationId=this.application.application_ID,t.PostalCode=this.ZipCode.value,t.AddressLine1=this.AddressLine1.value,t.AddressLine2=this.AddressLine2.value,t.City=this.City.value,t.PostalCode=this.ZipCode.value,this._childService.add(t).subscribe(i=>{i.type===c.dt.Response&&(this._openSnackBar("Child Added","Sucess",3e3),this._router.navigate(["folder/view-child-details"]))},i=>{console.log(i),this.presentServerErrorAlert(i.error.message)}))}onNavigateToHome(){this._router.navigate(["home"])}_getRecentApplicationFromServer(){this._applicationsService.getRecentByUserName().subscribe({next:t=>{if(t.type==c.dt.Response){const i=t.body;this.application=i,console.log(i),this.buildForm(this._formBuilder)}},error:t=>{},complete:()=>{}})}onLogOut(){this._authService.signOut()}_openSnackBar(t,i,s){this._snackBar.open(t,i,{duration:s})}presentServerErrorAlert(t){var i=this;return(0,d.Z)(function*(){const s=yield i.alertController.create({cssClass:"my-custom-class",header:"Error",subHeader:"",message:t,buttons:["OK"]});yield s.present(),yield s.onDidDismiss()})()}buildForm(t){this.form=t.group({Name:[this.application.childName,[a.kI.required,a.kI.maxLength(50),a.kI.pattern("[a-zA-Z ]*")]],Surname:[this.application.childSurname,[a.kI.required,a.kI.maxLength(50),a.kI.pattern("[a-zA-Z ]*")]],IdentityType:["",[a.kI.required]],SAIDNumber:["",[a.kI.required,R.saIdValidator]],PassportNumber:["",[a.kI.required]],DateOfBirth:[this.application.childDateOfBirth,[a.kI.required]],Gender:["",[a.kI.required]],AddressLine1:["",[a.kI.required,a.kI.maxLength(50)]],AddressLine2:["",[a.kI.required,a.kI.maxLength(50)]],City:["",[a.kI.required,a.kI.maxLength(50)]],ZipCode:["",[a.kI.required,a.kI.pattern("^[0-9]{4}$")]]}),this.Name.disable(),this.Surname.disable(),this.DateOfBirth.disable()}get Name(){return this.form.get("Name")}get Surname(){return this.form.get("Surname")}get IdentityType(){return this.form.get("IdentityType")}get SAIDNumber(){return this.form.get("SAIDNumber")}get PassportNumber(){return this.form.get("PassportNumber")}get DateOfBirth(){return this.form.get("DateOfBirth")}get Gender(){return this.form.get("Gender")}get AddressLine1(){return this.form.get("AddressLine1")}get AddressLine2(){return this.form.get("AddressLine2")}get City(){return this.form.get("City")}get ZipCode(){return this.form.get("ZipCode")}get errorCtr(){return this.form.controls}getFormValidationErrors(t){Object.keys(t.controls).forEach(i=>{const s=t.get(i).errors;null!=s&&Object.keys(s).forEach(p=>{console.log("Key control: "+i+", keyError: "+p+", err value: ",s[p])})})}nonEmptyName(t){return""==t.value.trim()?{required:!0}:null}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.Br),e.Y36(q.ux),e.Y36(a.qu),e.Y36(ee),e.Y36(ie),e.Y36(_.e),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-child"]],decls:10,vars:2,consts:[["slot","start"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"inline-form-field"],["appearance","outline",1,"form-field"],["type","text","matInput","","formControlName","Name","required",""],[4,"ngIf"],["type","text","matInput","","formControlName","Surname","required",""],["formControlName","Gender"],["value",""],["value","Male"],[1,"field-container-inline"],["type","text","matInput","","formControlName","DateOfBirth","required","",3,"max"],["formControlName","IdentityType"],["value","SA ID"],["value","Passport"],["class","inline-form-field",4,"ngIf"],["type","text","matInput","","formControlName","AddressLine1","required",""],["type","text","matInput","","formControlName","AddressLine2"],["type","text","matInput","","formControlName","City","required",""],["type","text","matInput","","formControlName","ZipCode","required",""],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"],["color","primary","type","submit",1,"submit-button"],["class","form-field","appearance","outline",4,"ngIf"],["matInput","","formControlName","SAIDNumber","type","text","required",""],["matInput","","formControlName","PassportNumber","type","text","required",""]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Add Child"),e.qZA(),e.TgZ(6,"ion-buttons",1),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(7,"ion-icon",2),e.qZA()()(),e.TgZ(8,"ion-content",3),e.YNc(9,He,75,12,"form",4),e.qZA()),2&t&&(e.xp6(8),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",null!=i.form))},dependencies:[u.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,o.oU,o.YG,o.Sm,o.PM,o.W2,o.Gu,o.gu,o.sr,o.wd,o.cs,C.TO,C.KE,C.hX,Y.Nt,D.gD,Z.ey],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}.form-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.inline-form-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.form-field[_ngcontent-%COMP%]{width:100%;margin:0 .2rem}mat-label[_ngcontent-%COMP%]{color:#121111}  .mat-select-value{color:#121111!important}.control-buttons[_ngcontent-%COMP%]{display:flex;width:100%}.submit-button[_ngcontent-%COMP%]{width:100%}"]}),n})();function Ke(n,r){if(1&n&&(e.TgZ(0,"ion-card-content")(1,"ion-list")(2,"ion-item")(3,"ion-label"),e._uU(4,"Identity Number"),e.qZA(),e.TgZ(5,"ion-note",6),e._uU(6),e.qZA()(),e.TgZ(7,"ion-item")(8,"ion-label"),e._uU(9,"Date of birth"),e.qZA(),e.TgZ(10,"ion-note",6),e._uU(11),e.qZA()(),e.TgZ(12,"ion-item")(13,"ion-label"),e._uU(14,"Gender"),e.qZA(),e.TgZ(15,"ion-note",6),e._uU(16),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.child.passportOrSAIDNumber),e.xp6(5),e.Oqu(t.child.dateOfBirth),e.xp6(5),e.Oqu(t.child.gender)}}function $e(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide name"),e.qZA())}function Xe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"name is invalid"),e.qZA())}function We(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function et(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,$e,2,0,"div",4),e.YNc(2,Xe,2,0,"div",4),e.YNc(3,We,2,0,"div",4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Name.errors.required),e.xp6(1),e.Q6J("ngIf",t.Name.errors.pattern),e.xp6(1),e.Q6J("ngIf",t.Name.errors.maxlength)}}function tt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide surname"),e.qZA())}function nt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"surname is invalid"),e.qZA())}function ot(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function rt(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,tt,2,0,"div",4),e.YNc(2,nt,2,0,"div",4),e.YNc(3,ot,2,0,"div",4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Surname.errors.required),e.xp6(1),e.Q6J("ngIf",t.Surname.errors.pattern),e.xp6(1),e.Q6J("ngIf",t.Surname.errors.maxlength)}}function it(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide address line 1"),e.qZA())}function at(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function st(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,it,2,0,"div",4),e.YNc(2,at,2,0,"div",4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AddressLine1.errors.required),e.xp6(1),e.Q6J("ngIf",t.AddressLine1.errors.maxlength)}}function lt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide address line 2"),e.qZA())}function ct(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function ut(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,lt,2,0,"div",4),e.YNc(2,ct,2,0,"div",4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AddressLine2.errors.required),e.xp6(1),e.Q6J("ngIf",t.AddressLine2.errors.maxlength)}}function dt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide city or town"),e.qZA())}function mt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function ft(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,dt,2,0,"div",4),e.YNc(2,mt,2,0,"div",4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.City.errors.required),e.xp6(1),e.Q6J("ngIf",t.City.errors.maxlength)}}function _t(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide zip code."),e.qZA())}function pt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"zip code must have 4 numbers"),e.qZA())}function gt(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,_t,2,0,"div",4),e.YNc(2,pt,2,0,"div",4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ZipCode.errors.required),e.xp6(1),e.Q6J("ngIf",t.ZipCode.errors.pattern)}}function ht(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"form",7)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e._uU(4,"Updatable details"),e.qZA()(),e.TgZ(5,"ion-card-content")(6,"div",8)(7,"mat-form-field",9)(8,"mat-label"),e._uU(9," Name"),e.qZA(),e._UZ(10,"input",10),e.YNc(11,et,4,3,"mat-error",4),e.qZA()(),e.TgZ(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),e._uU(15,"Surname"),e.qZA(),e._UZ(16,"input",11),e.YNc(17,rt,4,3,"mat-error",4),e.qZA()(),e.TgZ(18,"div",8)(19,"mat-form-field",9)(20,"mat-label"),e._uU(21,"Address Line 1"),e.qZA(),e._UZ(22,"input",12),e.YNc(23,st,3,2,"mat-error",4),e.qZA()(),e.TgZ(24,"div",8)(25,"mat-form-field",9)(26,"mat-label"),e._uU(27,"Address Line 2"),e.qZA(),e._UZ(28,"input",13),e.YNc(29,ut,3,2,"mat-error",4),e.qZA()(),e.TgZ(30,"div",8)(31,"mat-form-field",9)(32,"mat-label"),e._uU(33,"City / Town"),e.qZA(),e._UZ(34,"input",14),e.YNc(35,ft,3,2,"mat-error",4),e.qZA()(),e.TgZ(36,"div",8)(37,"mat-form-field",9)(38,"mat-label"),e._uU(39,"Zip Code"),e.qZA(),e._UZ(40,"input",15),e.YNc(41,gt,3,2,"mat-error",4),e.qZA()()()(),e.TgZ(42,"ion-card",16)(43,"ion-button",17),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onNavigateToHome())}),e._uU(44,"Cancel"),e.qZA(),e.TgZ(45,"ion-button",18),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e._uU(46,"Edit"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(11),e.Q6J("ngIf",t.Name.touched&&t.Name.invalid),e.xp6(6),e.Q6J("ngIf",t.Surname.touched&&t.Surname.invalid),e.xp6(6),e.Q6J("ngIf",t.AddressLine1.touched&&t.AddressLine1.invalid),e.xp6(6),e.Q6J("ngIf",t.AddressLine2.touched&&t.AddressLine2.invalid),e.xp6(6),e.Q6J("ngIf",t.City.touched&&t.City.invalid),e.xp6(6),e.Q6J("ngIf",t.ZipCode.touched&&t.ZipCode.invalid)}}let vt=(()=>{class n{constructor(t,i,s,p,h,k){this.alertController=t,this._snackBar=i,this._formBuilder=s,this._childService=p,this._authService=h,this._router=k,this.submitted=!1,this._getChildFromServer()}ngOnInit(){}onSubmit(){this.submitted=!0;let t={};if(!this.form.valid)return this.getFormValidationErrors(this.form),!1;this.form.valid&&(t.Child_ID=this.child.id,t.Child_Name=this.Name.value,t.Child_Surname=this.Surname.value,t.AddressLine1=this.AddressLine1.value,t.AddressLine2=this.AddressLine2.value,t.City=this.City.value,t.PostalCode=this.ZipCode.value,this._childService.updateByParent(t).subscribe(i=>{i.type===c.dt.Response&&(this._openSnackBar("Child Updated","Sucess",3e3),this._router.navigate(["folder/view-child-details"]))},i=>{this.presentServerErrorAlert(i.error.message)}))}_getChildFromServer(){this._childService.getByParentEmailAddress().subscribe({next:t=>{if(t.type==c.dt.Response){const i=t.body;this.child=i,console.log(i),this.buildForm(this._formBuilder)}},error:t=>{},complete:()=>{}})}onLogOut(){this._authService.signOut()}onNavigateToHome(){this._router.navigate(["home"])}_openSnackBar(t,i,s){this._snackBar.open(t,i,{duration:s})}presentServerErrorAlert(t){var i=this;return(0,d.Z)(function*(){const s=yield i.alertController.create({cssClass:"my-custom-class",header:"Error",subHeader:"",message:t,buttons:["OK"]});yield s.present(),yield s.onDidDismiss()})()}buildForm(t){this.form=t.group({Name:[this.child.name,[a.kI.required,a.kI.maxLength(50),a.kI.pattern("[a-zA-Z ]*")]],Surname:[this.child.surname,[a.kI.required,a.kI.maxLength(50),a.kI.pattern("[a-zA-Z ]*")]],AddressLine1:[this.child.addressLine1,[a.kI.required,a.kI.maxLength(50)]],AddressLine2:[this.child.addressLine2,[a.kI.required,a.kI.maxLength(50)]],City:[this.child.city,[a.kI.required,a.kI.maxLength(50)]],ZipCode:[this.child.postalCode,[a.kI.required,a.kI.pattern("^[0-9]{4}$")]]})}get Name(){return this.form.get("Name")}get Surname(){return this.form.get("Surname")}get AddressLine1(){return this.form.get("AddressLine1")}get AddressLine2(){return this.form.get("AddressLine2")}get City(){return this.form.get("City")}get ZipCode(){return this.form.get("ZipCode")}get errorCtr(){return this.form.controls}getFormValidationErrors(t){Object.keys(t.controls).forEach(i=>{const s=t.get(i).errors;null!=s&&Object.keys(s).forEach(p=>{console.log("Key control: "+i+", keyError: "+p+", err value: ",s[p])})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.Br),e.Y36(q.ux),e.Y36(a.qu),e.Y36(ee),e.Y36(_.e),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-child"]],decls:15,vars:3,consts:[["slot","start"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],["slot","end"],[3,"formGroup"],[1,"inline-form-field"],["appearance","outline",1,"form-field"],["type","text","matInput","","formControlName","Name","required",""],["type","text","matInput","","formControlName","Surname","required",""],["type","text","matInput","","formControlName","AddressLine1","required",""],["type","text","matInput","","formControlName","AddressLine2"],["type","text","matInput","","formControlName","City","required",""],["type","text","matInput","","formControlName","ZipCode","required",""],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"],["color","primary","type","submit",1,"submit-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Edit Child"),e.qZA(),e.TgZ(6,"ion-buttons",1),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(7,"ion-icon",2),e.qZA()()(),e.TgZ(8,"ion-content",3)(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title"),e._uU(12,"Child details"),e.qZA()(),e.YNc(13,Ke,17,3,"ion-card-content",4),e.qZA(),e.YNc(14,ht,47,7,"form",5),e.qZA()),2&t&&(e.xp6(8),e.Q6J("fullscreen",!0),e.xp6(5),e.Q6J("ngIf",null!=i.child),e.xp6(1),e.Q6J("ngIf",null!=i.form))},dependencies:[u.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.Gu,o.gu,o.Ie,o.Q$,o.q_,o.uN,o.sr,o.wd,o.cs,C.TO,C.KE,C.hX,Y.Nt],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}.form-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.inline-form-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.form-field[_ngcontent-%COMP%]{width:100%;margin:0 .2rem}mat-label[_ngcontent-%COMP%]{color:#121111}  .mat-select-value{color:#121111!important}.control-buttons[_ngcontent-%COMP%]{display:flex;width:100%}.submit-button[_ngcontent-%COMP%]{width:100%}"]}),n})();function z(n,r,t,i){var h,s=arguments.length,p=s<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(n,r,t,i);else for(var k=n.length-1;k>=0;k--)(h=n[k])&&(p=(s<3?h(p):s>3?h(r,t,p):h(r,t))||p);return s>3&&p&&Object.defineProperty(r,t,p),p}var ye=f(3259);const yt=["qrcElement"];var te=(()=>{return(n=te||(te={})).URL="url",n.IMG="img",n.CANVAS="canvas",te;var n})(),le=(()=>{return(n=le||(le={})).LOW="L",n.MEDIUM="M",n.QUARTILE="Q",n.HIGH="H",le;var n})();const $={elementType:te.URL,cssClass:"qrcode",value:"https://www.techiediaries.com",version:"",errorCorrectionLevel:le.MEDIUM,margin:4,scale:4,width:10,colorDark:"#000",colorLight:"#FFF"};let Zt=(()=>{let n=class{constructor(t){this.renderer=t,this.elementType=$.elementType,this.cssClass=$.cssClass,this.value=$.value,this.version=$.version,this.errorCorrectionLevel=$.errorCorrectionLevel,this.margin=$.margin,this.scale=$.scale,this.width=$.width,this.colorDark=$.colorDark,this.colorLight=$.colorLight}ngOnChanges(){this.createQRCode()}createQRCode(){if(!this.value)return;let t;this.elementType===te.CANVAS?(t=this.renderer.createElement("canvas"),this.toCanvas(t).then(()=>{this.renderElement(t)}).catch(i=>{this.removeElementChildren(),console.error(i)})):(t=this.renderer.createElement("img"),this.toDataURL().then(i=>{t.setAttribute("src",i),this.alt&&t.setAttribute("alt",this.alt),this.renderElement(t)}).catch(i=>{this.removeElementChildren(),console.error(i)}))}toDataURL(){return ye.toDataURL(this.value,{version:this.version,errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,width:this.width,color:{dark:this.colorDark,light:this.colorLight}})}toCanvas(t){return ye.toCanvas(t,this.value,{version:this.version,errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,width:this.width,color:{dark:this.colorDark,light:this.colorLight}})}renderElement(t){this.removeElementChildren(),this.renderer.appendChild(this.qrcElement.nativeElement,t)}removeElementChildren(){for(const t of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,t)}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-qrcode"]],viewQuery:function(t,i){if(1&t&&e.Gf(yt,5),2&t){let s;e.iGM(s=e.CRH())&&(i.qrcElement=s.first)}},inputs:{elementType:"elementType",cssClass:"cssClass",value:"value",version:"version",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",scale:"scale",width:"width",colorDark:"colorDark",colorLight:"colorLight",alt:"alt"},features:[e.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(t,i){1&t&&e._UZ(0,"div",null,0),2&t&&e.Tol(i.cssClass)},encapsulation:2,changeDetection:0}),z([(0,e.IIB)()],n.prototype,"elementType",void 0),z([(0,e.IIB)()],n.prototype,"cssClass",void 0),z([(0,e.IIB)()],n.prototype,"alt",void 0),z([(0,e.IIB)()],n.prototype,"value",void 0),z([(0,e.IIB)()],n.prototype,"version",void 0),z([(0,e.IIB)()],n.prototype,"errorCorrectionLevel",void 0),z([(0,e.IIB)()],n.prototype,"margin",void 0),z([(0,e.IIB)()],n.prototype,"scale",void 0),z([(0,e.IIB)()],n.prototype,"width",void 0),z([(0,e.IIB)()],n.prototype,"colorDark",void 0),z([(0,e.IIB)()],n.prototype,"colorLight",void 0),z([(0,e.i9L)("qrcElement")],n.prototype,"qrcElement",void 0),n})(),Tt=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();function bt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-content",4)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e._uU(4,"Attendance QR Code"),e.qZA()(),e.TgZ(5,"ion-card-content",5)(6,"section",6),e._UZ(7,"ngx-qrcode",7),e.qZA(),e.TgZ(8,"section")(9,"ion-button",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.downloadQRCode())}),e._uU(10,"Download QRCode"),e.qZA()()()(),e.TgZ(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),e._uU(14,"Personal details"),e.qZA()(),e.TgZ(15,"ion-card-content")(16,"ion-list")(17,"ion-item")(18,"ion-label"),e._uU(19,"Name"),e.qZA(),e.TgZ(20,"ion-note",9),e._uU(21),e.qZA()(),e.TgZ(22,"ion-item")(23,"ion-label"),e._uU(24,"Surname"),e.qZA(),e.TgZ(25,"ion-note",9),e._uU(26),e.qZA()(),e.TgZ(27,"ion-item")(28,"ion-label"),e._uU(29,"Gender"),e.qZA(),e.TgZ(30,"ion-note",9),e._uU(31),e.qZA()(),e.TgZ(32,"ion-item")(33,"ion-label"),e._uU(34,"Date of birth"),e.qZA(),e.TgZ(35,"ion-note",9),e._uU(36),e.qZA()()()()(),e.TgZ(37,"ion-card")(38,"ion-card-header")(39,"ion-card-title"),e._uU(40,"Address details"),e.qZA()(),e.TgZ(41,"ion-card-content")(42,"ion-list")(43,"ion-item")(44,"ion-label"),e._uU(45,"Line 1"),e.qZA(),e.TgZ(46,"ion-note",9),e._uU(47),e.qZA()(),e.TgZ(48,"ion-item")(49,"ion-label"),e._uU(50,"Line 2"),e.qZA(),e.TgZ(51,"ion-note",9),e._uU(52),e.qZA()(),e.TgZ(53,"ion-item")(54,"ion-label"),e._uU(55,"City/Town"),e.qZA(),e.TgZ(56,"ion-note",9),e._uU(57),e.qZA()(),e.TgZ(58,"ion-item")(59,"ion-label"),e._uU(60,"Postal Code"),e.qZA(),e.TgZ(61,"ion-note",9),e._uU(62),e.qZA()()()()(),e.TgZ(63,"ion-card",10)(64,"ion-button",11),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onNavigateToHome())}),e._uU(65,"Go to Home "),e.qZA(),e.TgZ(66,"ion-button",12),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onNavigateToEdit())}),e._uU(67,"Edit"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("fullscreen",!0),e.xp6(7),e.Q6J("elementType",t.elementType)("errorCorrectionLevel",t.correctionLevel)("value",t.value),e.xp6(14),e.Oqu(t.child.name),e.xp6(5),e.Oqu(t.child.surname),e.xp6(5),e.Oqu(t.child.gender),e.xp6(5),e.Oqu(t.child.dateOfBirth),e.xp6(11),e.Oqu(t.child.addressLine1),e.xp6(5),e.Oqu(t.child.addressLine2),e.xp6(5),e.Oqu(t.child.city),e.xp6(5),e.Oqu(t.child.postalCode)}}let At=(()=>{class n{constructor(t,i,s){this._childService=t,this._authService=i,this._router=s,this.elementType=te.URL,this.correctionLevel=le.HIGH,this.urlSuffix="http://localhost:4200/",this.routingSuffix="capture-attendance/",this.captureAttendanceLink=this.urlSuffix.concat(this.routingSuffix),this.value=""}ngOnInit(){this._getChildFromServer()}_getChildFromServer(){this._childService.getByParentEmailAddress().subscribe({next:t=>{t.type==c.dt.Response&&(this.child=t.body,this.value=this.captureAttendanceLink+this.child.id)},error:t=>{},complete:()=>{}})}onLogOut(){this._authService.signOut()}onNavigateToHome(){this._router.navigate(["home"])}onNavigateToEdit(){this._router.navigate(["folder","update-child"])}downloadQRCode(){const t=this.child.name+"_"+this.child.surname+"_qrcode",i=document.getElementsByClassName("coolQRCode")[0].children[0].src;fetch(i).then(s=>s.blob()).then(s=>{const p=window.URL.createObjectURL(s),h=document.createElement("a");h.href=p,h.download=t,h.click()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ee),e.Y36(_.e),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-child-details"]],decls:9,vars:1,consts:[["slot","start"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen",4,"ngIf"],[3,"fullscreen"],[1,""],[1,"qr-code"],["cssClass","coolQRCode",3,"elementType","errorCorrectionLevel","value"],["expand","block",1,"download-button",3,"click"],["slot","end"],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"],["color","primary","type","submit",1,"submit-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Child Details"),e.qZA(),e.TgZ(6,"ion-buttons",1),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(7,"ion-icon",2),e.qZA()()(),e.YNc(8,bt,68,12,"ion-content",3)),2&t&&(e.xp6(8),e.Q6J("ngIf",null!=i.child))},dependencies:[u.O5,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.Gu,o.gu,o.Ie,o.Q$,o.q_,o.uN,o.sr,o.wd,o.cs,Zt],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.submit-button[_ngcontent-%COMP%]{width:100%}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}.container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px;padding:10px;font-size:15px}.container[_ngcontent-%COMP%]   .coolQRCode[_ngcontent-%COMP%]{filter:drop-shadow(3px 3px 3px #999)}.container[_ngcontent-%COMP%]   .coolQRCode[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.qr-code[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})(),Ze=(()=>{class n{constructor(t){this._httpClient=t,this.endpointBase=g.N.endpointBase,this.headers={Authorization:`Bearer ${localStorage.getItem("token")}`}}getSurvey(t){return this._httpClient.get(this.endpointBase.concat("Survey/"+t),{reportProgress:!0,observe:"events",headers:this.headers})}takeSurvey(t){return this._httpClient.post(this.endpointBase.concat("Survey/TakeSurvey"),t,{reportProgress:!0,observe:"events",headers:this.headers})}getAllSurveys(){return this._httpClient.get(this.endpointBase.concat("Survey"),{reportProgress:!0,observe:"events",headers:this.headers})}getAllSurveyQuestions(){return this._httpClient.get(this.endpointBase.concat("SurveyQuestions"),{reportProgress:!0,observe:"events",headers:this.headers})}getAllSurveyQuestionAnswerOptions(){return this._httpClient.get(this.endpointBase.concat("SurveyQuestionAnswerOptions"),{reportProgress:!0,observe:"events",headers:this.headers})}getAllSurveyAnswersPool(){return this._httpClient.get(this.endpointBase.concat("SurveyAnswersPool"),{reportProgress:!0,observe:"events",headers:this.headers})}create(t){return this._httpClient.post(this.endpointBase.concat("Survey"),t,{reportProgress:!0,observe:"events",headers:this.headers})}update(t,i){return this._httpClient.put(this.endpointBase.concat("Survey/"+t),i,{reportProgress:!0,observe:"events",headers:this.headers})}updateSurveyQuestion(t,i){return this._httpClient.put(this.endpointBase.concat("SurveyQuestions/"+t),i,{reportProgress:!0,observe:"events",headers:this.headers})}updateSurveyQuestionAnswerOption(t,i){return this._httpClient.put(this.endpointBase.concat("SurveyQuestionAnswerOptions/"+t),i,{reportProgress:!0,observe:"events",headers:this.headers})}delete(t){return this._httpClient.delete(this.endpointBase.concat("Survey/"+t),{reportProgress:!0,observe:"events",headers:this.headers})}deleteSurveyQuestion(t){return this._httpClient.delete(this.endpointBase.concat("SurveyQuestions/"+t),{reportProgress:!0,observe:"events",headers:this.headers})}deleteSurveyAnswerPool(t){return this._httpClient.delete(this.endpointBase.concat("SurveyAnswersPool/"+t),{reportProgress:!0,observe:"events",headers:this.headers})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(c.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-radio",10),e.NdJ("click",function(){const p=e.CHM(t).$implicit,h=e.oxw(3);return e.KtG(h.onAddAnswer(p))}),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.text),e.xp6(1),e.Q6J("value",t.id)}}function wt(n,r){if(1&n&&(e.TgZ(0,"ion-radio-group")(1,"ion-list-header")(2,"ion-label"),e._uU(3),e.qZA()(),e.YNc(4,xt,4,2,"ion-item",9),e.qZA()),2&n){const t=r.$implicit;e.xp6(3),e.Oqu(t.text),e.xp6(1),e.Q6J("ngForOf",t.answerOptions)}}function Nt(n,r){if(1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-card-content"),e.YNc(5,wt,5,2,"ion-radio-group",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.survey.name),e.xp6(2),e.Q6J("ngForOf",t.survey.questions)}}let qt=(()=>{class n{constructor(t,i,s,p,h,k){this.alertController=t,this._matSnackBar=i,this._surveyService=s,this._router=p,this._activatedRoute=h,this._authService=k,this.answers=[],this._activatedRoute.params.subscribe(F=>this.surveyId=F.id)}ngOnInit(){this._getDataFromServer()}onLogOut(){this._authService.signOut()}onNavigateToHome(){this._router.navigate(["home"])}onAddAnswer(t){let i=this.answers.find(s=>s.surveyQuestionId==t.surveyQuestionId);if(null!=i){let s=this.answers.indexOf(i);s>-1&&this.answers.splice(s,1)}this.answers.push(t)}onSubmit(){let t=!0;if(0==this.answers.length)return this.openSnackBar("Provide survey answers","Error"),void(t=!1);if(this.answers.length!=this.survey.questions.length)return this.openSnackBar("Please answer all questions","Error"),void(t=!1);if(t){let i={};i.SurveyId=this.survey.id,i.Responses=this.answers,this._surveyService.takeSurvey(i).subscribe(s=>{s.type===c.dt.Response&&(this.openSnackBar("Take Survey","Sucess"),this._router.navigate(["folder/view-surveys"]))},s=>{this.presentServerErrorAlert(s.error.message)})}}_getDataFromServer(){this._surveyService.getSurvey(this.surveyId).subscribe({next:t=>{t.type==c.dt.Response&&(this.survey=t.body)},error:t=>{this.openSnackBar(t.error.message,"Error")},complete:()=>{}})}openSnackBar(t,i){this._matSnackBar.open(t,i,{duration:3e3})}presentServerErrorAlert(t){var i=this;return(0,d.Z)(function*(){const s=yield i.alertController.create({cssClass:"my-custom-class",header:"Error",subHeader:"",message:t,buttons:["OK"]});yield s.present(),yield s.onDidDismiss()})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.Br),e.Y36(q.ux),e.Y36(Ze),e.Y36(l.F0),e.Y36(l.gz),e.Y36(_.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-take-survey"]],decls:15,vars:3,consts:[[3,"translucent"],["slot","start"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen"],[4,"ngIf"],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"],["color","primary","type","submit",1,"submit-button",3,"click"],[4,"ngFor","ngForOf"],["slot","end","color","primary",3,"value","click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Surveys"),e.qZA(),e.TgZ(6,"ion-buttons",2),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(7,"ion-icon",3),e.qZA()()(),e.TgZ(8,"ion-content",4),e.YNc(9,Nt,6,2,"ion-card",5),e.TgZ(10,"ion-card",6)(11,"ion-button",7),e.NdJ("click",function(){return i.onNavigateToHome()}),e._uU(12,"Cancel"),e.qZA(),e.TgZ(13,"ion-button",8),e.NdJ("click",function(){return i.onSubmit()}),e._uU(14,"Submit"),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(8),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",null!=i.survey))},dependencies:[u.sg,u.O5,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.Gu,o.gu,o.Ie,o.Q$,o.yh,o.B7,o.se,o.sr,o.wd,o.U5,o.QI,o.cs],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.submit-button[_ngcontent-%COMP%]{width:100%}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}.info-below[_ngcontent-%COMP%]{display:flex;width:100%}.row[_ngcontent-%COMP%]{margin-bottom:.5rem;border-bottom:outset}.take-survey-icon[_ngcontent-%COMP%]:hover, .take-survey-icon[_ngcontent-%COMP%]:active{color:#00f}"]}),n})();function It(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-row",9)(1,"ion-row")(2,"ion-col")(3,"div"),e._uU(4),e.qZA()()(),e.TgZ(5,"ion-row",10)(6,"ion-col")(7,"div"),e._uU(8),e.qZA()(),e.TgZ(9,"ion-col")(10,"div",11),e.NdJ("click",function(){const p=e.CHM(t).$implicit,h=e.oxw(2);return e.KtG(h.onTakeSurvey(p))}),e._UZ(11,"ion-icon",12),e.qZA()()()()}if(2&n){const t=r.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(4),e.hij("",t.daysLeft," days left before closing")}}function St(n,r){if(1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Open Survyes"),e.qZA()(),e.TgZ(4,"ion-card-content")(5,"ion-grid"),e.YNc(6,It,12,2,"ion-row",8),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.openSurveys)}}function Ut(n,r){if(1&n&&(e.TgZ(0,"ion-row",9)(1,"ion-row")(2,"ion-col")(3,"div"),e._uU(4),e.qZA()()(),e.TgZ(5,"ion-row",10)(6,"ion-col")(7,"div"),e._uU(8),e.qZA()()()()),2&n){const t=r.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(4),e.hij("",t.daysBeforeOpening," days left before opening")}}function kt(n,r){if(1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Upcomming Survyes"),e.qZA()(),e.TgZ(4,"ion-card-content")(5,"ion-grid"),e.YNc(6,Ut,9,2,"ion-row",8),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.upComingSurveys)}}function Pt(n,r){if(1&n&&(e.TgZ(0,"ion-row",9)(1,"ion-row")(2,"ion-col")(3,"div"),e._uU(4),e.qZA()()()()),2&n){const t=r.$implicit;e.xp6(4),e.Oqu(t.name)}}function Bt(n,r){if(1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Closed Surveys"),e.qZA()(),e.TgZ(4,"ion-card-content")(5,"ion-grid"),e.YNc(6,Pt,5,1,"ion-row",8),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.closedSurveys)}}function Ot(n,r){1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Not surveys available"),e.qZA()()())}let Mt=(()=>{class n{constructor(t,i,s,p){this._matSnackBar=t,this._surveyService=i,this._router=s,this._authService=p,this.surveys=[],this.closedSurveys=[],this.upComingSurveys=[],this.openSurveys=[]}ngOnInit(){this._getDataFromServer()}onLogOut(){this._authService.signOut()}onNavigateToHome(){this._router.navigate(["home"])}onTakeSurvey(t){this._router.navigate(["folder","take-survey",t.id])}_getDataFromServer(){this._surveyService.getAllSurveys().subscribe({next:t=>{t.type==c.dt.Response&&(this.surveys=t.body,this.surveys.forEach(s=>{s.status.toLowerCase()=="Closed".toLowerCase()&&this.closedSurveys.push(s),s.status.toLowerCase()=="Up Coming".toLowerCase()&&this.upComingSurveys.push(s),s.status.toLowerCase()=="Open".toLowerCase()&&this.openSurveys.push(s)}))},error:t=>{this.openSnackBar(t.error.message,"Error")},complete:()=>{}})}openSnackBar(t,i){this._matSnackBar.open(t,i,{duration:3e3})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.ux),e.Y36(Ze),e.Y36(l.F0),e.Y36(_.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-surveys"]],decls:16,vars:6,consts:[[3,"translucent"],["slot","start"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen"],[4,"ngIf"],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"info-below"],["tooltip","take survey",3,"click"],["name","clipboard",1,"take-survey-icon"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Surveys"),e.qZA(),e.TgZ(6,"ion-buttons",2),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(7,"ion-icon",3),e.qZA()()(),e.TgZ(8,"ion-content",4),e.YNc(9,St,7,1,"ion-card",5),e.YNc(10,kt,7,1,"ion-card",5),e.YNc(11,Bt,7,1,"ion-card",5),e.YNc(12,Ot,4,0,"ion-card",5),e.TgZ(13,"ion-card",6)(14,"ion-button",7),e.NdJ("click",function(){return i.onNavigateToHome()}),e._uU(15,"Go to Home "),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(8),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",i.openSurveys.length>0),e.xp6(1),e.Q6J("ngIf",i.upComingSurveys.length>0),e.xp6(1),e.Q6J("ngIf",i.closedSurveys.length>0),e.xp6(1),e.Q6J("ngIf",0==i.surveys.length))},dependencies:[u.sg,u.O5,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.wI,o.W2,o.jY,o.Gu,o.gu,o.Nd,o.sr,o.wd,o.cs],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.submit-button[_ngcontent-%COMP%]{width:100%}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}.info-below[_ngcontent-%COMP%]{display:flex;width:100%}.row[_ngcontent-%COMP%]{margin-bottom:.5rem;border-bottom:outset}.take-survey-icon[_ngcontent-%COMP%]:hover, .take-survey-icon[_ngcontent-%COMP%]:active{color:#00f}"]}),n})(),Lt=(()=>{class n{constructor(t,i){this._authService=t,this._router=i}ngOnInit(){}onNavigateToHome(){this._router.navigate(["home"])}onLogOut(){this._authService.signOut()}onNavigateToSurveys(){this._router.navigate(["folder/view-surveys"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.e),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-communications"]],decls:18,vars:2,consts:[[3,"translucent"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen"],[1,"container"],[3,"click"],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Communications"),e.qZA(),e.TgZ(4,"ion-buttons",1),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(5,"ion-icon",2),e.qZA()()(),e.TgZ(6,"ion-content",3)(7,"div",4)(8,"ion-grid")(9,"ion-row")(10,"ion-col",5),e.NdJ("click",function(){return i.onNavigateToSurveys()}),e.TgZ(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),e._uU(14,"Surveys"),e.qZA()()()()()()(),e.TgZ(15,"ion-card",6)(16,"ion-button",7),e.NdJ("click",function(){return i.onNavigateToHome()}),e._uU(17,"Go to Home "),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0))},dependencies:[o.YG,o.Sm,o.PM,o.Zi,o.Dq,o.wI,o.W2,o.jY,o.Gu,o.gu,o.Nd,o.sr,o.wd],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.submit-button[_ngcontent-%COMP%]{width:100%}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}ion-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center}ion-card[_ngcontent-%COMP%]{border-radius:20px}"]}),n})(),ge=(()=>{class n{constructor(t,i){this.http=t,this._authService=i,this.endpointBase=g.N.endpointBase,this.headers={Authorization:`Bearer ${localStorage.getItem("token")}`}}create(t){return this.http.post(this.endpointBase.concat("Profile/Create"),t,{observe:"events",reportProgress:!0,headers:this.headers})}updateByProfileHolder(t){return this.http.post(this.endpointBase.concat("Profile/EditByParent"),t,{observe:"events",reportProgress:!0,headers:this.headers})}getByParentEmailAddress(){return this.http.get(this.endpointBase.concat("Profile/ByParentEmail/"+this._authService.currentUser.UserName),{reportProgress:!0,observe:"events",headers:this.headers})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(c.eN),e.LFG(_.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Et(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide name"),e.qZA())}function Jt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"name is invalid"),e.qZA())}function Yt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 max characters allowed"),e.qZA())}function Qt(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Et,2,0,"div",10),e.YNc(2,Jt,2,0,"div",10),e.YNc(3,Yt,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Name.errors.required),e.xp6(1),e.Q6J("ngIf",t.Name.errors.pattern),e.xp6(1),e.Q6J("ngIf",t.Name.errors.maxlength)}}function Dt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide your surname."),e.qZA())}function Ft(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"surname is invalid."),e.qZA())}function Rt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 max characters allowed"),e.qZA())}function Gt(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Dt,2,0,"div",10),e.YNc(2,Ft,2,0,"div",10),e.YNc(3,Rt,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Surname.errors.required),e.xp6(1),e.Q6J("ngIf",t.Surname.errors.pattern),e.xp6(1),e.Q6J("ngIf",t.Surname.errors.maxlength)}}function Vt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide your Contact Number."),e.qZA())}function zt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"invalid phone number"),e.qZA())}function Ht(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Vt,2,0,"div",10),e.YNc(2,zt,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ContactNumber.errors.required),e.xp6(1),e.Q6J("ngIf",t.ContactNumber.errors.pattern)}}function jt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide your relationship to child."),e.qZA())}function Kt(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,jt,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ParentRelationship.errors.required)}}function $t(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide your Title."),e.qZA())}function Xt(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,$t,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Title.errors.required)}}function Wt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please specify Identity doc type"),e.qZA())}function en(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Wt,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.IdentityType.errors.required)}}function tn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"ID number is invalid"),e.qZA())}function nn(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,tn,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.SAIDNumber)}}function on(n,r){if(1&n&&(e.TgZ(0,"mat-form-field",8)(1,"mat-label"),e._uU(2,"SA Identity Number"),e.qZA(),e._UZ(3,"input",36),e.YNc(4,nn,2,1,"mat-error",10),e.qZA()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngIf",t.SAIDNumber.touched&&t.SAIDNumber.invalid)}}function rn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Passport Number is required."),e.qZA())}function an(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,rn,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.PassportNumber.errors.required)}}function sn(n,r){if(1&n&&(e.TgZ(0,"mat-form-field",8)(1,"mat-label"),e._uU(2,"Passport Number"),e.qZA(),e._UZ(3,"input",37),e.YNc(4,an,2,1,"mat-error",10),e.qZA()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngIf",t.PassportNumber.touched&&t.PassportNumber.invalid)}}function ln(n,r){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,on,5,1,"mat-form-field",35),e.YNc(2,sn,5,1,"mat-form-field",35),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","SA ID"==t.IdentityType.value),e.xp6(1),e.Q6J("ngIf","Passport"==t.IdentityType.value)}}function cn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide address line 1."),e.qZA())}function un(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 max characters allowed"),e.qZA())}function dn(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,cn,2,0,"div",10),e.YNc(2,un,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AddressLine1.errors.required),e.xp6(1),e.Q6J("ngIf",t.AddressLine1.errors.maxlength)}}function mn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide address line 2"),e.qZA())}function fn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 max characters allowed"),e.qZA())}function _n(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,mn,2,0,"div",10),e.YNc(2,fn,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AddressLine2.errors.required),e.xp6(1),e.Q6J("ngIf",t.AddressLine2.errors.maxlength)}}function pn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide City or town."),e.qZA())}function gn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 max characters allowed"),e.qZA())}function hn(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,pn,2,0,"div",10),e.YNc(2,gn,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.City.errors.required),e.xp6(1),e.Q6J("ngIf",t.City.errors.maxlength)}}function vn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide zip code."),e.qZA())}function Cn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"zip code must have 4 numbers"),e.qZA())}function yn(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,vn,2,0,"div",10),e.YNc(2,Cn,2,0,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ZipCode.errors.required),e.xp6(1),e.Q6J("ngIf",t.ZipCode.errors.pattern)}}function Zn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"form",6),e.NdJ("submit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e.TgZ(1,"ion-card")(2,"div",7)(3,"mat-form-field",8)(4,"mat-label"),e._uU(5," Name"),e.qZA(),e._UZ(6,"input",9),e.YNc(7,Qt,4,3,"mat-error",10),e.qZA()(),e.TgZ(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),e._uU(11,"Surname"),e.qZA(),e._UZ(12,"input",11),e.YNc(13,Gt,4,3,"mat-error",10),e.qZA()(),e.TgZ(14,"div",7)(15,"mat-form-field",8)(16,"mat-label"),e._uU(17,"Contact Number"),e.qZA(),e._UZ(18,"input",12),e.YNc(19,Ht,3,2,"mat-error",10),e.qZA()(),e.TgZ(20,"div",7)(21,"mat-form-field",8)(22,"mat-label"),e._uU(23,"Relationship to Child"),e.qZA(),e.TgZ(24,"mat-select",13)(25,"mat-option",14),e._uU(26," --Select option--"),e.qZA(),e.TgZ(27,"mat-option",15),e._uU(28," Guardian "),e.qZA(),e.TgZ(29,"mat-option",16),e._uU(30," Mother "),e.qZA(),e.TgZ(31,"mat-option",17),e._uU(32," Father "),e.qZA()(),e.YNc(33,Kt,2,1,"mat-error",10),e.qZA()(),e.TgZ(34,"div",7)(35,"mat-form-field",8)(36,"mat-label"),e._uU(37,"Title"),e.qZA(),e.TgZ(38,"mat-select",18)(39,"mat-option",14),e._uU(40," --Select option--"),e.qZA(),e.TgZ(41,"mat-option",19),e._uU(42," Mr "),e.qZA(),e.TgZ(43,"mat-option",20),e._uU(44," Mrs "),e.qZA(),e.TgZ(45,"mat-option",21),e._uU(46," Miss "),e.qZA(),e.TgZ(47,"mat-option",22),e._uU(48," Ms "),e.qZA(),e.TgZ(49,"mat-option",23),e._uU(50," Dr "),e.qZA()(),e.YNc(51,Xt,2,1,"mat-error",10),e.qZA()(),e.TgZ(52,"div",7)(53,"mat-form-field",8)(54,"mat-label"),e._uU(55,"Identity Doc Type"),e.qZA(),e.TgZ(56,"mat-select",24)(57,"mat-option",14),e._uU(58," --Select option--"),e.qZA(),e.TgZ(59,"mat-option",25),e._uU(60," SA ID "),e.qZA(),e.TgZ(61,"mat-option",26),e._uU(62," Passport "),e.qZA()(),e.YNc(63,en,2,1,"mat-error",10),e.qZA()(),e.YNc(64,ln,3,2,"div",27),e.qZA(),e.TgZ(65,"ion-card")(66,"div",7)(67,"mat-form-field",8)(68,"mat-label"),e._uU(69,"Address Line 1"),e.qZA(),e._UZ(70,"input",28),e.YNc(71,dn,3,2,"mat-error",10),e.qZA()(),e.TgZ(72,"div",7)(73,"mat-form-field",8)(74,"mat-label"),e._uU(75,"Address Line 2"),e.qZA(),e._UZ(76,"input",29),e.YNc(77,_n,3,2,"mat-error",10),e.qZA()(),e.TgZ(78,"div",7)(79,"mat-form-field",8)(80,"mat-label"),e._uU(81,"City / Town"),e.qZA(),e._UZ(82,"input",30),e.YNc(83,hn,3,2,"mat-error",10),e.qZA()(),e.TgZ(84,"div",7)(85,"mat-form-field",8)(86,"mat-label"),e._uU(87,"Zip Code"),e.qZA(),e._UZ(88,"input",31),e.YNc(89,yn,3,2,"mat-error",10),e.qZA()()(),e.TgZ(90,"ion-card",32)(91,"ion-button",33),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onNavigateToHome())}),e._uU(92,"Cancel"),e.qZA(),e.TgZ(93,"ion-button",34),e._uU(94,"Create"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(7),e.Q6J("ngIf",t.Name.touched&&t.Name.invalid),e.xp6(6),e.Q6J("ngIf",t.Surname.touched&&t.Surname.invalid),e.xp6(6),e.Q6J("ngIf",t.ContactNumber.touched&&t.ContactNumber.invalid),e.xp6(14),e.Q6J("ngIf",t.ParentRelationship.touched&&t.ParentRelationship.invalid),e.xp6(18),e.Q6J("ngIf",t.Title.touched&&t.Title.invalid),e.xp6(12),e.Q6J("ngIf",t.IdentityType.touched&&t.IdentityType.invalid),e.xp6(1),e.Q6J("ngIf",""!=t.IdentityType.value),e.xp6(7),e.Q6J("ngIf",t.AddressLine1.touched&&t.AddressLine1.invalid),e.xp6(6),e.Q6J("ngIf",t.AddressLine2.touched&&t.AddressLine2.invalid),e.xp6(6),e.Q6J("ngIf",t.City.touched&&t.City.invalid),e.xp6(6),e.Q6J("ngIf",t.ZipCode.touched&&t.ZipCode.invalid)}}let Tn=(()=>{class n{constructor(t,i,s,p,h,k){this.alertController=t,this._snackBar=i,this._formBuilder=s,this._profileService=p,this._router=h,this._authService=k,this.submitted=!1,this.buildForm(this._formBuilder)}ngOnInit(){}onSubmit(){this.submitted=!0;let t={};if("SA ID"===this.IdentityType.value&&(this.PassportNumber.setValue("EMPTY"),t.PassportOrSAIDNumber=this.SAIDNumber.value),"Passport"===this.IdentityType.value&&(t.PassportOrSAIDNumber=this.PassportNumber.value,this.SAIDNumber.setValue("EMPTY")),!this.form.valid)return this.getFormValidationErrors(this.form),!1;this.form.valid&&(t.Name=this.Name.value,t.Surname=this.Surname.value,t.ContactNumber=this.ContactNumber.value,t.Title=this.Title.value,t.ParentRelationship=this.ParentRelationship.value,t.AddressLine1=this.AddressLine1.value,t.AddressLine2=this.AddressLine2.value,t.City=this.City.value,t.ZipCode=this.ZipCode.value,this._profileService.create(t).subscribe(i=>{i.type===c.dt.Response&&(this._openSnackBar("Profile Created","Sucess",3e3),this._router.navigate(["folder/add-child"]))},i=>{this.presentServerErrorAlert(i.error.message)}))}_openSnackBar(t,i,s){this._snackBar.open(t,i,{duration:s})}presentServerErrorAlert(t){var i=this;return(0,d.Z)(function*(){const s=yield i.alertController.create({cssClass:"my-custom-class",header:"Error",subHeader:"",message:t,buttons:["OK"]});yield s.present(),yield s.onDidDismiss()})()}onNavigateToHome(){this._router.navigate(["home"])}onLogOut(){this._authService.signOut()}buildForm(t){this.form=t.group({Name:["",[a.kI.required,a.kI.maxLength(50),a.kI.pattern("[a-zA-Z ]*")]],Surname:["",[a.kI.required,a.kI.maxLength(50),a.kI.pattern("[a-zA-Z ]*")]],ContactNumber:["",[a.kI.required,a.kI.pattern("^((\\+27-?)|0)?[0-9]{9}$")]],IdentityType:["",[a.kI.required]],SAIDNumber:["",[a.kI.required,R.saIdValidator]],PassportNumber:["",[a.kI.required]],Title:["",[a.kI.required,a.kI.maxLength(10),a.kI.pattern("[a-zA-Z ]*")]],ParentRelationship:["",[a.kI.required]],AddressLine1:["",[a.kI.required,a.kI.maxLength(50)]],AddressLine2:["",[a.kI.required,a.kI.maxLength(50)]],City:["",[a.kI.required,a.kI.maxLength(50)]],ZipCode:["",[a.kI.required,a.kI.pattern("^[0-9]{4}$")]]})}get Name(){return this.form.get("Name")}get Surname(){return this.form.get("Surname")}get ContactNumber(){return this.form.get("ContactNumber")}get IdentityType(){return this.form.get("IdentityType")}get SAIDNumber(){return this.form.get("SAIDNumber")}get PassportNumber(){return this.form.get("PassportNumber")}get Title(){return this.form.get("Title")}get ParentRelationship(){return this.form.get("ParentRelationship")}get AddressLine1(){return this.form.get("AddressLine1")}get AddressLine2(){return this.form.get("AddressLine2")}get City(){return this.form.get("City")}get ZipCode(){return this.form.get("ZipCode")}get errorCtr(){return this.form.controls}getFormValidationErrors(t){Object.keys(t.controls).forEach(i=>{const s=t.get(i).errors;null!=s&&Object.keys(s).forEach(p=>{console.log("Key control: "+i+", keyError: "+p+", err value: ",s[p])})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.Br),e.Y36(q.ux),e.Y36(a.qu),e.Y36(ge),e.Y36(l.F0),e.Y36(_.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-profile"]],decls:10,vars:3,consts:[[3,"translucent"],["slot","start"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"inline-form-field"],["appearance","outline",1,"form-field"],["type","text","matInput","","formControlName","Name","required",""],[4,"ngIf"],["type","text","matInput","","formControlName","Surname","required",""],["type","text","matInput","","formControlName","ContactNumber","required",""],["formControlName","ParentRelationship"],["value",""],["value","Guardian"],["value","Mother"],["value","Father"],["formControlName","Title"],["value","Mr"],["value","Mrs"],["value","Miss"],["value","Ms"],["value","Dr"],["formControlName","IdentityType"],["value","SA ID"],["value","Passport"],["class","inline-form-field",4,"ngIf"],["type","text","matInput","","formControlName","AddressLine1","required",""],["type","text","matInput","","formControlName","AddressLine2"],["type","text","matInput","","formControlName","City","required",""],["type","text","matInput","","formControlName","ZipCode","required",""],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"],["color","primary","type","submit",1,"submit-button"],["class","form-field","appearance","outline",4,"ngIf"],["matInput","","formControlName","SAIDNumber","type","text","required",""],["matInput","","formControlName","PassportNumber","type","text","required",""]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Create Profile"),e.qZA(),e.TgZ(6,"ion-buttons",2),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(7,"ion-icon",3),e.qZA()()(),e.TgZ(8,"ion-content",4),e.YNc(9,Zn,95,12,"form",5),e.qZA()),2&t&&(e.Q6J("translucent",!0),e.xp6(8),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",null!=i.form))},dependencies:[u.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,o.oU,o.YG,o.Sm,o.PM,o.W2,o.Gu,o.gu,o.sr,o.wd,o.cs,C.TO,C.KE,C.hX,Y.Nt,D.gD,Z.ey],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}.form-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.inline-form-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.form-field[_ngcontent-%COMP%]{width:100%;margin:0 .2rem}mat-label[_ngcontent-%COMP%]{color:#121111}  .mat-select-value{color:#121111!important}.control-buttons[_ngcontent-%COMP%]{display:flex;width:100%}.submit-button[_ngcontent-%COMP%]{width:100%}"]}),n})();function bn(n,r){if(1&n&&(e.TgZ(0,"ion-card-content")(1,"ion-list")(2,"ion-item")(3,"ion-label"),e._uU(4,"Identity Number"),e.qZA(),e.TgZ(5,"ion-note",7),e._uU(6),e.qZA()(),e.TgZ(7,"ion-item")(8,"ion-label"),e._uU(9,"Email"),e.qZA(),e.TgZ(10,"ion-note",7),e._uU(11),e.qZA()(),e.TgZ(12,"ion-item")(13,"ion-label"),e._uU(14,"Relationship"),e.qZA(),e.TgZ(15,"ion-note",7),e._uU(16),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.profile.passportOrSAIDNumber),e.xp6(5),e.Oqu(t.profile.email),e.xp6(5),e.Oqu(t.profile.parentRelationship)}}function An(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide your name."),e.qZA())}function xn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"name is invalid"),e.qZA())}function wn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function Nn(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,An,2,0,"div",5),e.YNc(2,xn,2,0,"div",5),e.YNc(3,wn,2,0,"div",5),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Name.errors.required),e.xp6(1),e.Q6J("ngIf",t.Name.errors.pattern),e.xp6(1),e.Q6J("ngIf",t.Name.errors.maxlength)}}function qn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide your surname."),e.qZA())}function In(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"name is invalid"),e.qZA())}function Sn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function Un(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,qn,2,0,"div",5),e.YNc(2,In,2,0,"div",5),e.YNc(3,Sn,2,0,"div",5),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Surname.errors.required),e.xp6(1),e.Q6J("ngIf",t.Surname.errors.pattern),e.xp6(1),e.Q6J("ngIf",t.Surname.errors.maxlength)}}function kn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide your title."),e.qZA())}function Pn(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,kn,2,0,"div",5),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.Title.errors.required)}}function Bn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide your Contact Number."),e.qZA())}function On(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"invalid contact number"),e.qZA())}function Mn(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Bn,2,0,"div",5),e.YNc(2,On,2,0,"div",5),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ContactNumber.errors.required),e.xp6(1),e.Q6J("ngIf",t.ContactNumber.errors.pattern)}}function Ln(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide Address Line 1."),e.qZA())}function En(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function Jn(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Ln,2,0,"div",5),e.YNc(2,En,2,0,"div",5),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AddressLine1.errors.required),e.xp6(1),e.Q6J("ngIf",t.AddressLine1.errors.maxlength)}}function Yn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide Address Line 2."),e.qZA())}function Qn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function Dn(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Yn,2,0,"div",5),e.YNc(2,Qn,2,0,"div",5),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AddressLine2.errors.required),e.xp6(1),e.Q6J("ngIf",t.AddressLine2.errors.maxlength)}}function Fn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide City or town."),e.qZA())}function Rn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"50 maximum characters allowed"),e.qZA())}function Gn(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Fn,2,0,"div",5),e.YNc(2,Rn,2,0,"div",5),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.City.errors.required),e.xp6(1),e.Q6J("ngIf",t.City.errors.maxlength)}}function Vn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"please provide zip code."),e.qZA())}function zn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"invalid zip code"),e.qZA())}function Hn(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Vn,2,0,"div",5),e.YNc(2,zn,2,0,"div",5),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ZipCode.errors.required),e.xp6(1),e.Q6J("ngIf",t.ZipCode.errors.pattern)}}function jn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"form",8)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e._uU(4,"Updatable details"),e.qZA()(),e.TgZ(5,"div",9)(6,"mat-form-field",10)(7,"mat-label"),e._uU(8," Name"),e.qZA(),e._UZ(9,"input",11),e.YNc(10,Nn,4,3,"mat-error",5),e.qZA()(),e.TgZ(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),e._uU(14,"Surname"),e.qZA(),e._UZ(15,"input",12),e.YNc(16,Un,4,3,"mat-error",5),e.qZA()(),e.TgZ(17,"div",9)(18,"mat-form-field",10)(19,"mat-label"),e._uU(20,"Title"),e.qZA(),e.TgZ(21,"mat-select",13)(22,"mat-option",14),e._uU(23," --Select option--"),e.qZA(),e.TgZ(24,"mat-option",15),e._uU(25," Mr "),e.qZA(),e.TgZ(26,"mat-option",16),e._uU(27," Mrs "),e.qZA(),e.TgZ(28,"mat-option",17),e._uU(29," Miss "),e.qZA(),e.TgZ(30,"mat-option",18),e._uU(31," Ms "),e.qZA(),e.TgZ(32,"mat-option",19),e._uU(33," Dr "),e.qZA()(),e.YNc(34,Pn,2,1,"mat-error",5),e.qZA()(),e.TgZ(35,"div",9)(36,"mat-form-field",10)(37,"mat-label"),e._uU(38,"Contact Number"),e.qZA(),e._UZ(39,"input",20),e.YNc(40,Mn,3,2,"mat-error",5),e.qZA()(),e.TgZ(41,"div",9)(42,"mat-form-field",10)(43,"mat-label"),e._uU(44,"Address Line 1"),e.qZA(),e._UZ(45,"input",21),e.YNc(46,Jn,3,2,"mat-error",5),e.qZA()(),e.TgZ(47,"div",9)(48,"mat-form-field",10)(49,"mat-label"),e._uU(50,"Address Line 2"),e.qZA(),e._UZ(51,"input",22),e.YNc(52,Dn,3,2,"mat-error",5),e.qZA()(),e.TgZ(53,"div",9)(54,"mat-form-field",10)(55,"mat-label"),e._uU(56,"City / Town"),e.qZA(),e._UZ(57,"input",23),e.YNc(58,Gn,3,2,"mat-error",5),e.qZA()(),e.TgZ(59,"div",9)(60,"mat-form-field",10)(61,"mat-label"),e._uU(62,"Zip Code"),e.qZA(),e._UZ(63,"input",24),e.YNc(64,Hn,3,2,"mat-error",5),e.qZA()()(),e.TgZ(65,"ion-card",25)(66,"ion-button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onNavigateToHome())}),e._uU(67,"Cancel"),e.qZA(),e.TgZ(68,"ion-button",27),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e._uU(69,"Update"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngIf",t.Name.touched&&t.Name.invalid),e.xp6(6),e.Q6J("ngIf",t.Surname.touched&&t.Surname.invalid),e.xp6(18),e.Q6J("ngIf",t.Title.touched&&t.Title.invalid),e.xp6(6),e.Q6J("ngIf",t.ContactNumber.touched&&t.ContactNumber.invalid),e.xp6(6),e.Q6J("ngIf",t.AddressLine1.touched&&t.AddressLine1.invalid),e.xp6(6),e.Q6J("ngIf",t.AddressLine2.touched&&t.AddressLine1.invalid),e.xp6(6),e.Q6J("ngIf",t.City.touched&&t.City.invalid),e.xp6(6),e.Q6J("ngIf",t.ZipCode.touched&&t.ZipCode.invalid)}}let Kn=(()=>{class n{constructor(t,i,s,p,h,k){this.alertController=t,this._snackBar=i,this._formBuilder=s,this._profileService=p,this._router=h,this._authService=k,this.submitted=!1}ngOnInit(){this._getProfileFromServer()}onSubmit(){this.submitted=!0;let t={};if(!this.form.valid)return this.getFormValidationErrors(this.form),!1;this.form.valid&&(t.Name=this.Name.value,t.Surname=this.Surname.value,t.AddressLine1=this.AddressLine1.value,t.AddressLine2=this.AddressLine2.value,t.City=this.City.value,t.ZipCode=this.ZipCode.value,t.ParentId=this.profile.parent_ID,t.Name=this.Name.value,t.Surname=this.Surname.value,t.Title=this.Title.value,t.ContactNumber=this.ContactNumber.value,this._profileService.updateByProfileHolder(t).subscribe(i=>{i.type===c.dt.Response&&(this._openSnackBar("Profile Updated","Sucess",3e3),this._router.navigate(["folder/view-profile"]))},i=>{this.presentServerErrorAlert(i.error.message)}))}_openSnackBar(t,i,s){this._snackBar.open(t,i,{duration:s})}presentServerErrorAlert(t){var i=this;return(0,d.Z)(function*(){const s=yield i.alertController.create({cssClass:"my-custom-class",header:"Error",subHeader:"",message:t,buttons:["OK"]});yield s.present(),yield s.onDidDismiss()})()}onNavigateToHome(){this._router.navigate(["home"])}onLogOut(){this._authService.signOut()}_getProfileFromServer(){this._profileService.getByParentEmailAddress().subscribe({next:t=>{t.type==c.dt.Response&&(this.profile=t.body,this.buildForm(this._formBuilder))},error:t=>{},complete:()=>{}})}buildForm(t){this.form=t.group({Name:[this.profile.name,[a.kI.required,a.kI.maxLength(50),a.kI.pattern("[a-zA-Z ]*")]],Surname:[this.profile.surname,[a.kI.required,a.kI.maxLength(50),a.kI.pattern("[a-zA-Z ]*")]],ContactNumber:[this.profile.contactNumber,[a.kI.required,a.kI.pattern("^((\\+27-?)|0)?[0-9]{9}$")]],Title:[this.profile.title,[a.kI.required]],AddressLine1:[this.profile.addressLine1,[a.kI.required,a.kI.maxLength(50)]],AddressLine2:[this.profile.addressLine2,[a.kI.maxLength(50)]],City:[this.profile.city,[a.kI.required,a.kI.maxLength(50)]],ZipCode:[this.profile.zipCode,[a.kI.required,a.kI.pattern("^[0-9]{4}$")]]})}get Name(){return this.form.get("Name")}get Surname(){return this.form.get("Surname")}get ContactNumber(){return this.form.get("ContactNumber")}get Title(){return this.form.get("Title")}get AddressLine1(){return this.form.get("AddressLine1")}get AddressLine2(){return this.form.get("AddressLine2")}get City(){return this.form.get("City")}get ZipCode(){return this.form.get("ZipCode")}get errorCtr(){return this.form.controls}getFormValidationErrors(t){Object.keys(t.controls).forEach(i=>{const s=t.get(i).errors;null!=s&&Object.keys(s).forEach(p=>{console.log("Key control: "+i+", keyError: "+p+", err value: ",s[p])})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.Br),e.Y36(q.ux),e.Y36(a.qu),e.Y36(ge),e.Y36(l.F0),e.Y36(_.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-profile"]],decls:15,vars:4,consts:[[3,"translucent"],["slot","start"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],["slot","end"],[3,"formGroup"],[1,"inline-form-field"],["appearance","outline",1,"form-field"],["type","text","matInput","","formControlName","Name","required",""],["type","text","matInput","","formControlName","Surname","required",""],["formControlName","Title"],["value",""],["value","Mr"],["value","Mrs"],["value","Miss"],["value","Ms"],["value","Dr"],["type","text","matInput","","formControlName","ContactNumber","required",""],["type","text","matInput","","formControlName","AddressLine1","required",""],["type","text","matInput","","formControlName","AddressLine2"],["type","text","matInput","","formControlName","City","required",""],["type","text","matInput","","formControlName","ZipCode","required",""],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"],["color","primary","type","submit",1,"submit-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Update Profile"),e.qZA(),e.TgZ(6,"ion-buttons",2),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(7,"ion-icon",3),e.qZA()()(),e.TgZ(8,"ion-content",4)(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title"),e._uU(12,"Profile details"),e.qZA()(),e.YNc(13,bn,17,3,"ion-card-content",5),e.qZA(),e.YNc(14,jn,70,9,"form",6),e.qZA()),2&t&&(e.Q6J("translucent",!0),e.xp6(8),e.Q6J("fullscreen",!0),e.xp6(5),e.Q6J("ngIf",null!=i.profile),e.xp6(1),e.Q6J("ngIf",null!=i.form))},dependencies:[u.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.Gu,o.gu,o.Ie,o.Q$,o.q_,o.uN,o.sr,o.wd,o.cs,C.TO,C.KE,C.hX,Y.Nt,D.gD,Z.ey],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}.form-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.inline-form-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.form-field[_ngcontent-%COMP%]{width:100%;margin:0 .2rem}mat-label[_ngcontent-%COMP%]{color:#121111}  .mat-select-value{color:#121111!important}.control-buttons[_ngcontent-%COMP%]{display:flex;width:100%}.submit-button[_ngcontent-%COMP%]{width:100%}"]}),n})();function $n(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-content",4)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e._uU(4,"Personal details"),e.qZA()(),e.TgZ(5,"ion-card-content")(6,"ion-list")(7,"ion-item")(8,"ion-label"),e._uU(9,"Title"),e.qZA(),e.TgZ(10,"ion-note",5),e._uU(11),e.qZA()(),e.TgZ(12,"ion-item")(13,"ion-label"),e._uU(14,"Name"),e.qZA(),e.TgZ(15,"ion-note",5),e._uU(16),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-label"),e._uU(19,"Surname"),e.qZA(),e.TgZ(20,"ion-note",5),e._uU(21),e.qZA()(),e.TgZ(22,"ion-item")(23,"ion-label"),e._uU(24,"Identity Number"),e.qZA(),e.TgZ(25,"ion-note",5),e._uU(26),e.qZA()(),e.TgZ(27,"ion-item")(28,"ion-label"),e._uU(29,"Contact Number"),e.qZA(),e.TgZ(30,"ion-note",5),e._uU(31),e.qZA()(),e.TgZ(32,"ion-item")(33,"ion-label"),e._uU(34,"Email"),e.qZA(),e.TgZ(35,"ion-note",5),e._uU(36),e.qZA()(),e.TgZ(37,"ion-item")(38,"ion-label"),e._uU(39,"Relationship"),e.qZA(),e.TgZ(40,"ion-note",5),e._uU(41),e.qZA()()()()(),e.TgZ(42,"ion-card")(43,"ion-card-header")(44,"ion-card-title"),e._uU(45,"Address details"),e.qZA()(),e.TgZ(46,"ion-card-content")(47,"ion-list")(48,"ion-item")(49,"ion-label"),e._uU(50,"Line 1"),e.qZA(),e.TgZ(51,"ion-note",5),e._uU(52),e.qZA()(),e.TgZ(53,"ion-item")(54,"ion-label"),e._uU(55,"Line 2"),e.qZA(),e.TgZ(56,"ion-note",5),e._uU(57),e.qZA()(),e.TgZ(58,"ion-item")(59,"ion-label"),e._uU(60,"City/Town"),e.qZA(),e.TgZ(61,"ion-note",5),e._uU(62),e.qZA()(),e.TgZ(63,"ion-item")(64,"ion-label"),e._uU(65,"Postal Code"),e.qZA(),e.TgZ(66,"ion-note",5),e._uU(67),e.qZA()()()()(),e.TgZ(68,"ion-card",6)(69,"ion-button",7),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onNavigateToHome())}),e._uU(70,"Go to Home"),e.qZA(),e.TgZ(71,"ion-button",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onNavigateToEdit())}),e._uU(72,"Edit"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("fullscreen",!0),e.xp6(11),e.Oqu(t.profile.title),e.xp6(5),e.Oqu(t.profile.name),e.xp6(5),e.Oqu(t.profile.surname),e.xp6(5),e.Oqu(t.profile.passportOrSAIDNumber),e.xp6(5),e.Oqu(t.profile.contactNumber),e.xp6(5),e.Oqu(t.profile.email),e.xp6(5),e.Oqu(t.profile.parentRelationship),e.xp6(11),e.Oqu(t.profile.addressLine1),e.xp6(5),e.Oqu(t.profile.addressLine2),e.xp6(5),e.Oqu(t.profile.city),e.xp6(5),e.Oqu(t.profile.zipCode)}}const Xn=[{path:"",component:(()=>{class n{constructor(t){this.activatedRoute=t}ngOnInit(){this.folder=this.activatedRoute.snapshot.paramMap.get("id")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-folder"]],decls:18,vars:5,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],["id","container"],[1,"capitalize"],["target","_blank","rel","noopener noreferrer","href","https://ionicframework.com/docs/components"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),e._uU(10),e.qZA()()(),e.TgZ(11,"div",5)(12,"strong",6),e._uU(13),e.qZA(),e.TgZ(14,"p"),e._uU(15,"Explore "),e.TgZ(16,"a",7),e._uU(17,"UI Components"),e.qZA()()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(5),e.Oqu(i.folder),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(4),e.Oqu(i.folder),e.xp6(3),e.Oqu(i.folder))},dependencies:[o.Sm,o.W2,o.Gu,o.fG,o.sr,o.wd],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})()},{path:"create-profile",component:Tn},{path:"update-profile",component:Kn},{path:"view-profile",component:(()=>{class n{constructor(t,i,s){this._profileService=t,this._authService=i,this._router=s}ngOnInit(){this._getProfileFromServer()}_getProfileFromServer(){this._profileService.getByParentEmailAddress().subscribe({next:t=>{t.type==c.dt.Response&&(this.profile=t.body)},error:t=>{},complete:()=>{}})}onLogOut(){this._authService.signOut()}onNavigateToHome(){this._router.navigate(["home"])}onNavigateToEdit(){this._router.navigate(["folder","update-profile"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ge),e.Y36(_.e),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-profile"]],decls:9,vars:1,consts:[["slot","start"],["slot","end",1,"sign-out-button",3,"click"],["size","large","name","log-out"],[3,"fullscreen",4,"ngIf"],[3,"fullscreen"],["slot","end"],[1,"buttons-inline"],["color","secondary","type","Cancel",1,"submit-button",3,"click"],["color","primary","type","submit",1,"submit-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Profile Details"),e.qZA(),e.TgZ(6,"ion-buttons",1),e.NdJ("click",function(){return i.onLogOut()}),e._UZ(7,"ion-icon",2),e.qZA()()(),e.YNc(8,$n,73,12,"ion-content",3)),2&t&&(e.xp6(8),e.Q6J("ngIf",null!=i.profile))},dependencies:[u.O5,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.Gu,o.gu,o.Ie,o.Q$,o.q_,o.uN,o.sr,o.wd,o.cs],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{display:flex}.buttons-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.submit-button[_ngcontent-%COMP%]{width:100%}  .mat-select-value{color:#fff!important}  .mat-input-element:disabled{color:gray}.sign-out-button[_ngcontent-%COMP%]{margin-right:1rem}"]}),n})()},{path:"add-child",component:je},{path:"update-child",component:vt},{path:"view-child-details",component:At},{path:"manage-bookings",component:re},{path:"make-new-booking",component:fe},{path:"list-bookings",component:P},{path:"view-communications",component:Lt},{path:"view-surveys",component:Mt},{path:"take-survey/:id",component:qt}];let Wn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(Xn),l.Bz]}),n})();var eo=f(8024);let to=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,a.u5,a.UX,o.Pc,Wn,eo.q,Tt]}),n})()},4901:M=>{"use strict";var m={single_source_shortest_paths:function(f,u,a){var o={},l={};l[u]=0;var c,e,_,g,w,v,d=m.PriorityQueue.make();for(d.push(u,0);!d.empty();)for(_ in g=(c=d.pop()).cost,w=f[e=c.value]||{})w.hasOwnProperty(_)&&(v=g+w[_],(typeof l[_]>"u"||l[_]>v)&&(l[_]=v,d.push(_,v),o[_]=e));if(typeof a<"u"&&typeof l[a]>"u"){var J=["Could not find a path from ",u," to ",a,"."].join("");throw new Error(J)}return o},extract_shortest_path_from_predecessor_list:function(f,u){for(var a=[],o=u;o;)a.push(o),o=f[o];return a.reverse(),a},find_path:function(f,u,a){var o=m.single_source_shortest_paths(f,u,a);return m.extract_shortest_path_from_predecessor_list(o,a)},PriorityQueue:{make:function(f){var o,u=m.PriorityQueue,a={};for(o in f=f||{},u)u.hasOwnProperty(o)&&(a[o]=u[o]);return a.queue=[],a.sorter=f.sorter||u.default_sorter,a},default_sorter:function(f,u){return f.cost-u.cost},push:function(f,u){this.queue.push({value:f,cost:u}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};M.exports=m},8419:M=>{"use strict";M.exports=function(f){for(var u=[],a=f.length,o=0;o<a;o++){var l=f.charCodeAt(o);if(l>=55296&&l<=56319&&a>o+1){var d=f.charCodeAt(o+1);d>=56320&&d<=57343&&(l=1024*(l-55296)+d-56320+65536,o+=1)}l<128?u.push(l):l<2048?(u.push(l>>6|192),u.push(63&l|128)):l<55296||l>=57344&&l<65536?(u.push(l>>12|224),u.push(l>>6&63|128),u.push(63&l|128)):l>=65536&&l<=1114111?(u.push(l>>18|240),u.push(l>>12&63|128),u.push(l>>6&63|128),u.push(63&l|128)):u.push(239,191,189)}return new Uint8Array(u).buffer}},3259:(M,m,f)=>{const u=f(8695),a=f(1465),o=f(3210),l=f(2334);function d(c,e,_,g,w){const q=[].slice.call(arguments,1),v=q.length,b="function"==typeof q[v-1];if(!b&&!u())throw new Error("Callback required as last argument");if(!b){if(v<1)throw new Error("Too few arguments provided");return 1===v?(_=e,e=g=void 0):2===v&&!e.getContext&&(g=_,_=e,e=void 0),new Promise(function(N,J){try{const Q=a.create(_,g);N(c(Q,e,g))}catch(Q){J(Q)}})}if(v<2)throw new Error("Too few arguments provided");2===v?(w=_,_=e,e=g=void 0):3===v&&(e.getContext&&typeof w>"u"?(w=g,g=void 0):(w=g,g=_,_=e,e=void 0));try{const N=a.create(_,g);w(null,c(N,e,g))}catch(N){w(N)}}m.create=a.create,m.toCanvas=d.bind(null,o.render),m.toDataURL=d.bind(null,o.renderToDataURL),m.toString=d.bind(null,function(c,e,_){return l.render(c,_)})},8695:M=>{M.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(M,m,f)=>{const u=f(4792).getSymbolSize;m.getRowColCoords=function(o){if(1===o)return[];const l=Math.floor(o/7)+2,d=u(o),c=145===d?26:2*Math.ceil((d-13)/(2*l-2)),e=[d-7];for(let _=1;_<l-1;_++)e[_]=e[_-1]-c;return e.push(6),e.reverse()},m.getPositions=function(o){const l=[],d=m.getRowColCoords(o),c=d.length;for(let e=0;e<c;e++)for(let _=0;_<c;_++)0===e&&0===_||0===e&&_===c-1||e===c-1&&0===_||l.push([d[e],d[_]]);return l}},2424:(M,m,f)=>{const u=f(4016),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(l){this.mode=u.ALPHANUMERIC,this.data=l}o.getBitsLength=function(d){return 11*Math.floor(d/2)+d%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(d){let c;for(c=0;c+2<=this.data.length;c+=2){let e=45*a.indexOf(this.data[c]);e+=a.indexOf(this.data[c+1]),d.put(e,11)}this.data.length%2&&d.put(a.indexOf(this.data[c]),6)},M.exports=o},2118:M=>{function m(){this.buffer=[],this.length=0}m.prototype={get:function(f){const u=Math.floor(f/8);return 1==(this.buffer[u]>>>7-f%8&1)},put:function(f,u){for(let a=0;a<u;a++)this.putBit(1==(f>>>u-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(f){const u=Math.floor(this.length/8);this.buffer.length<=u&&this.buffer.push(0),f&&(this.buffer[u]|=128>>>this.length%8),this.length++}},M.exports=m},4425:M=>{function m(f){if(!f||f<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=f,this.data=new Uint8Array(f*f),this.reservedBit=new Uint8Array(f*f)}m.prototype.set=function(f,u,a,o){const l=f*this.size+u;this.data[l]=a,o&&(this.reservedBit[l]=!0)},m.prototype.get=function(f,u){return this.data[f*this.size+u]},m.prototype.xor=function(f,u,a){this.data[f*this.size+u]^=a},m.prototype.isReserved=function(f,u){return this.reservedBit[f*this.size+u]},M.exports=m},5663:(M,m,f)=>{const u=f(8419),a=f(4016);function o(l){this.mode=a.BYTE,"string"==typeof l&&(l=u(l)),this.data=new Uint8Array(l)}o.getBitsLength=function(d){return 8*d},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(l){for(let d=0,c=this.data.length;d<c;d++)l.put(this.data[d],8)},M.exports=o},4655:(M,m,f)=>{const u=f(2259),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];m.getBlocksCount=function(d,c){switch(c){case u.L:return a[4*(d-1)+0];case u.M:return a[4*(d-1)+1];case u.Q:return a[4*(d-1)+2];case u.H:return a[4*(d-1)+3];default:return}},m.getTotalCodewordsCount=function(d,c){switch(c){case u.L:return o[4*(d-1)+0];case u.M:return o[4*(d-1)+1];case u.Q:return o[4*(d-1)+2];case u.H:return o[4*(d-1)+3];default:return}}},2259:(M,m)=>{m.L={bit:1},m.M={bit:0},m.Q={bit:3},m.H={bit:2},m.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},m.from=function(a,o){if(m.isValid(a))return a;try{return function f(u){if("string"!=typeof u)throw new Error("Param is not a string");switch(u.toLowerCase()){case"l":case"low":return m.L;case"m":case"medium":return m.M;case"q":case"quartile":return m.Q;case"h":case"high":return m.H;default:throw new Error("Unknown EC Level: "+u)}}(a)}catch{return o}}},3114:(M,m,f)=>{const u=f(4792).getSymbolSize;m.getPositions=function(l){const d=u(l);return[[0,0],[d-7,0],[0,d-7]]}},7078:(M,m,f)=>{const u=f(4792),l=u.getBCHDigit(1335);m.getEncodedBits=function(c,e){const _=c.bit<<3|e;let g=_<<10;for(;u.getBCHDigit(g)-l>=0;)g^=1335<<u.getBCHDigit(g)-l;return 21522^(_<<10|g)}},5339:(M,m)=>{const f=new Uint8Array(512),u=new Uint8Array(256);(function(){let o=1;for(let l=0;l<255;l++)f[l]=o,u[o]=l,o<<=1,256&o&&(o^=285);for(let l=255;l<512;l++)f[l]=f[l-255]})(),m.log=function(o){if(o<1)throw new Error("log("+o+")");return u[o]},m.exp=function(o){return f[o]},m.mul=function(o,l){return 0===o||0===l?0:f[u[o]+u[l]]}},449:(M,m,f)=>{const u=f(4016),a=f(4792);function o(l){this.mode=u.KANJI,this.data=l}o.getBitsLength=function(d){return 13*d},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(l){let d;for(d=0;d<this.data.length;d++){let c=a.toSJIS(this.data[d]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[d]+"\nMake sure your charset is UTF-8");c-=49472}c=192*(c>>>8&255)+(255&c),l.put(c,13)}},M.exports=o},3667:(M,m)=>{m.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function u(a,o,l){switch(a){case m.Patterns.PATTERN000:return(o+l)%2==0;case m.Patterns.PATTERN001:return o%2==0;case m.Patterns.PATTERN010:return l%3==0;case m.Patterns.PATTERN011:return(o+l)%3==0;case m.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(l/3))%2==0;case m.Patterns.PATTERN101:return o*l%2+o*l%3==0;case m.Patterns.PATTERN110:return(o*l%2+o*l%3)%2==0;case m.Patterns.PATTERN111:return(o*l%3+(o+l)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}}m.isValid=function(o){return null!=o&&""!==o&&!isNaN(o)&&o>=0&&o<=7},m.from=function(o){return m.isValid(o)?parseInt(o,10):void 0},m.getPenaltyN1=function(o){const l=o.size;let d=0,c=0,e=0,_=null,g=null;for(let w=0;w<l;w++){c=e=0,_=g=null;for(let q=0;q<l;q++){let v=o.get(w,q);v===_?c++:(c>=5&&(d+=c-5+3),_=v,c=1),v=o.get(q,w),v===g?e++:(e>=5&&(d+=e-5+3),g=v,e=1)}c>=5&&(d+=c-5+3),e>=5&&(d+=e-5+3)}return d},m.getPenaltyN2=function(o){const l=o.size;let d=0;for(let c=0;c<l-1;c++)for(let e=0;e<l-1;e++){const _=o.get(c,e)+o.get(c,e+1)+o.get(c+1,e)+o.get(c+1,e+1);(4===_||0===_)&&d++}return 3*d},m.getPenaltyN3=function(o){const l=o.size;let d=0,c=0,e=0;for(let _=0;_<l;_++){c=e=0;for(let g=0;g<l;g++)c=c<<1&2047|o.get(_,g),g>=10&&(1488===c||93===c)&&d++,e=e<<1&2047|o.get(g,_),g>=10&&(1488===e||93===e)&&d++}return 40*d},m.getPenaltyN4=function(o){let l=0;const d=o.data.length;for(let e=0;e<d;e++)l+=o.data[e];return 10*Math.abs(Math.ceil(100*l/d/5)-10)},m.applyMask=function(o,l){const d=l.size;for(let c=0;c<d;c++)for(let e=0;e<d;e++)l.isReserved(e,c)||l.xor(e,c,u(o,e,c))},m.getBestMask=function(o,l){const d=Object.keys(m.Patterns).length;let c=0,e=1/0;for(let _=0;_<d;_++){l(_),m.applyMask(_,o);const g=m.getPenaltyN1(o)+m.getPenaltyN2(o)+m.getPenaltyN3(o)+m.getPenaltyN4(o);m.applyMask(_,o),g<e&&(e=g,c=_)}return c}},4016:(M,m,f)=>{const u=f(4406),a=f(2699);m.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},m.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},m.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},m.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},m.MIXED={bit:-1},m.getCharCountIndicator=function(d,c){if(!d.ccBits)throw new Error("Invalid mode: "+d);if(!u.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?d.ccBits[0]:c<27?d.ccBits[1]:d.ccBits[2]},m.getBestModeForData=function(d){return a.testNumeric(d)?m.NUMERIC:a.testAlphanumeric(d)?m.ALPHANUMERIC:a.testKanji(d)?m.KANJI:m.BYTE},m.toString=function(d){if(d&&d.id)return d.id;throw new Error("Invalid mode")},m.isValid=function(d){return d&&d.bit&&d.ccBits},m.from=function(d,c){if(m.isValid(d))return d;try{return function o(l){if("string"!=typeof l)throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return m.NUMERIC;case"alphanumeric":return m.ALPHANUMERIC;case"kanji":return m.KANJI;case"byte":return m.BYTE;default:throw new Error("Unknown mode: "+l)}}(d)}catch{return c}}},7783:(M,m,f)=>{const u=f(4016);function a(o){this.mode=u.NUMERIC,this.data=o.toString()}a.getBitsLength=function(l){return 10*Math.floor(l/3)+(l%3?l%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(l){let d,c,e;for(d=0;d+3<=this.data.length;d+=3)c=this.data.substr(d,3),e=parseInt(c,10),l.put(e,10);const _=this.data.length-d;_>0&&(c=this.data.substr(d),e=parseInt(c,10),l.put(e,3*_+1))},M.exports=a},1106:(M,m,f)=>{const u=f(5339);m.mul=function(o,l){const d=new Uint8Array(o.length+l.length-1);for(let c=0;c<o.length;c++)for(let e=0;e<l.length;e++)d[c+e]^=u.mul(o[c],l[e]);return d},m.mod=function(o,l){let d=new Uint8Array(o);for(;d.length-l.length>=0;){const c=d[0];for(let _=0;_<l.length;_++)d[_]^=u.mul(l[_],c);let e=0;for(;e<d.length&&0===d[e];)e++;d=d.slice(e)}return d},m.generateECPolynomial=function(o){let l=new Uint8Array([1]);for(let d=0;d<o;d++)l=m.mul(l,new Uint8Array([1,u.exp(d)]));return l}},1465:(M,m,f)=>{const u=f(4792),a=f(2259),o=f(2118),l=f(4425),d=f(6221),c=f(3114),e=f(3667),_=f(4655),g=f(2636),w=f(2088),q=f(7078),v=f(4016),b=f(2033);function L(Z,I,A){const y=Z.size,B=q.getEncodedBits(I,A);let x,T;for(x=0;x<15;x++)T=1==(B>>x&1),Z.set(x<6?x:x<8?x+1:y-15+x,8,T,!0),Z.set(8,x<8?y-x-1:x<9?15-x-1+1:15-x-1,T,!0);Z.set(y-8,8,1,!0)}function D(Z,I,A,y){let B;if(Array.isArray(Z))B=b.fromArray(Z);else{if("string"!=typeof Z)throw new Error("Invalid data");{let K=I;if(!K){const W=b.rawSplit(Z);K=w.getBestVersionForData(W,A)}B=b.fromString(Z,K||40)}}const x=w.getBestVersionForData(B,A);if(!x)throw new Error("The amount of data is too big to be stored in a QR Code");if(I){if(I<x)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+x+".\n")}else I=x;const T=function C(Z,I,A){const y=new o;A.forEach(function(U){y.put(U.mode.bit,4),y.put(U.getLength(),v.getCharCountIndicator(U.mode,Z)),U.write(y)});const T=8*(u.getSymbolTotalCodewords(Z)-_.getTotalCodewordsCount(Z,I));for(y.getLengthInBits()+4<=T&&y.put(0,4);y.getLengthInBits()%8!=0;)y.putBit(0);const O=(T-y.getLengthInBits())/8;for(let U=0;U<O;U++)y.put(U%2?17:236,8);return function Y(Z,I,A){const y=u.getSymbolTotalCodewords(I),x=y-_.getTotalCodewordsCount(I,A),T=_.getBlocksCount(I,A),U=T-y%T,K=Math.floor(y/T),W=Math.floor(x/T),me=W+1,ce=K-W,fe=new g(ce);let re=0;const R=new Array(T),ee=new Array(T);let ie=0;const _e=new Uint8Array(Z.buffer);for(let X=0;X<T;X++){const se=X<U?W:me;R[X]=_e.slice(re,re+se),ee[X]=fe.encode(R[X]),re+=se,ie=Math.max(ie,se)}const ae=new Uint8Array(y);let H,j,ue=0;for(H=0;H<ie;H++)for(j=0;j<T;j++)H<R[j].length&&(ae[ue++]=R[j][H]);for(H=0;H<ce;H++)for(j=0;j<T;j++)ae[ue++]=ee[j][H];return ae}(y,Z,I)}(I,A,B),O=u.getSymbolSize(I),U=new l(O);return function N(Z,I){const A=Z.size,y=c.getPositions(I);for(let B=0;B<y.length;B++){const x=y[B][0],T=y[B][1];for(let O=-1;O<=7;O++)if(!(x+O<=-1||A<=x+O))for(let U=-1;U<=7;U++)T+U<=-1||A<=T+U||Z.set(x+O,T+U,O>=0&&O<=6&&(0===U||6===U)||U>=0&&U<=6&&(0===O||6===O)||O>=2&&O<=4&&U>=2&&U<=4,!0)}}(U,I),function J(Z){const I=Z.size;for(let A=8;A<I-8;A++){const y=A%2==0;Z.set(A,6,y,!0),Z.set(6,A,y,!0)}}(U),function Q(Z,I){const A=d.getPositions(I);for(let y=0;y<A.length;y++){const B=A[y][0],x=A[y][1];for(let T=-2;T<=2;T++)for(let O=-2;O<=2;O++)Z.set(B+T,x+O,-2===T||2===T||-2===O||2===O||0===T&&0===O,!0)}}(U,I),L(U,A,0),I>=7&&function P(Z,I){const A=Z.size,y=w.getEncodedBits(I);let B,x,T;for(let O=0;O<18;O++)B=Math.floor(O/3),x=O%3+A-8-3,T=1==(y>>O&1),Z.set(B,x,T,!0),Z.set(x,B,T,!0)}(U,I),function S(Z,I){const A=Z.size;let y=-1,B=A-1,x=7,T=0;for(let O=A-1;O>0;O-=2)for(6===O&&O--;;){for(let U=0;U<2;U++)if(!Z.isReserved(B,O-U)){let K=!1;T<I.length&&(K=1==(I[T]>>>x&1)),Z.set(B,O-U,K),x--,-1===x&&(T++,x=7)}if(B+=y,B<0||A<=B){B-=y,y=-y;break}}}(U,T),isNaN(y)&&(y=e.getBestMask(U,L.bind(null,U,A))),e.applyMask(y,U),L(U,A,y),{modules:U,version:I,errorCorrectionLevel:A,maskPattern:y,segments:B}}m.create=function(I,A){if(typeof I>"u"||""===I)throw new Error("No input text");let B,x,y=a.M;return typeof A<"u"&&(y=a.from(A.errorCorrectionLevel,a.M),B=w.from(A.version),x=e.from(A.maskPattern),A.toSJISFunc&&u.setToSJISFunction(A.toSJISFunc)),D(I,B,y,x)}},2636:(M,m,f)=>{const u=f(1106);function a(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(l){this.degree=l,this.genPoly=u.generateECPolynomial(this.degree)},a.prototype.encode=function(l){if(!this.genPoly)throw new Error("Encoder not initialized");const d=new Uint8Array(l.length+this.degree);d.set(l);const c=u.mod(d,this.genPoly),e=this.degree-c.length;if(e>0){const _=new Uint8Array(this.degree);return _.set(c,e),_}return c},M.exports=a},2699:(M,m)=>{const f="[0-9]+";let a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";a=a.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+a+")(?:.|[\r\n]))+";m.KANJI=new RegExp(a,"g"),m.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),m.BYTE=new RegExp(o,"g"),m.NUMERIC=new RegExp(f,"g"),m.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const l=new RegExp("^"+a+"$"),d=new RegExp("^"+f+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");m.testKanji=function(_){return l.test(_)},m.testNumeric=function(_){return d.test(_)},m.testAlphanumeric=function(_){return c.test(_)}},2033:(M,m,f)=>{const u=f(4016),a=f(7783),o=f(2424),l=f(5663),d=f(449),c=f(2699),e=f(4792),_=f(4901);function g(P){return unescape(encodeURIComponent(P)).length}function w(P,L,S){const C=[];let Y;for(;null!==(Y=P.exec(S));)C.push({data:Y[0],index:Y.index,mode:L,length:Y[0].length});return C}function q(P){const L=w(c.NUMERIC,u.NUMERIC,P),S=w(c.ALPHANUMERIC,u.ALPHANUMERIC,P);let C,Y;return e.isKanjiModeEnabled()?(C=w(c.BYTE,u.BYTE,P),Y=w(c.KANJI,u.KANJI,P)):(C=w(c.BYTE_KANJI,u.BYTE,P),Y=[]),L.concat(S,C,Y).sort(function(Z,I){return Z.index-I.index}).map(function(Z){return{data:Z.data,mode:Z.mode,length:Z.length}})}function v(P,L){switch(L){case u.NUMERIC:return a.getBitsLength(P);case u.ALPHANUMERIC:return o.getBitsLength(P);case u.KANJI:return d.getBitsLength(P);case u.BYTE:return l.getBitsLength(P)}}function Q(P,L){let S;const C=u.getBestModeForData(P);if(S=u.from(L,C),S!==u.BYTE&&S.bit<C.bit)throw new Error('"'+P+'" cannot be encoded with mode '+u.toString(S)+".\n Suggested mode is: "+u.toString(C));switch(S===u.KANJI&&!e.isKanjiModeEnabled()&&(S=u.BYTE),S){case u.NUMERIC:return new a(P);case u.ALPHANUMERIC:return new o(P);case u.KANJI:return new d(P);case u.BYTE:return new l(P)}}m.fromArray=function(L){return L.reduce(function(S,C){return"string"==typeof C?S.push(Q(C,null)):C.data&&S.push(Q(C.data,C.mode)),S},[])},m.fromString=function(L,S){const Y=function N(P){const L=[];for(let S=0;S<P.length;S++){const C=P[S];switch(C.mode){case u.NUMERIC:L.push([C,{data:C.data,mode:u.ALPHANUMERIC,length:C.length},{data:C.data,mode:u.BYTE,length:C.length}]);break;case u.ALPHANUMERIC:L.push([C,{data:C.data,mode:u.BYTE,length:C.length}]);break;case u.KANJI:L.push([C,{data:C.data,mode:u.BYTE,length:g(C.data)}]);break;case u.BYTE:L.push([{data:C.data,mode:u.BYTE,length:g(C.data)}])}}return L}(q(L,e.isKanjiModeEnabled())),D=function J(P,L){const S={},C={start:{}};let Y=["start"];for(let D=0;D<P.length;D++){const Z=P[D],I=[];for(let A=0;A<Z.length;A++){const y=Z[A],B=""+D+A;I.push(B),S[B]={node:y,lastCount:0},C[B]={};for(let x=0;x<Y.length;x++){const T=Y[x];S[T]&&S[T].node.mode===y.mode?(C[T][B]=v(S[T].lastCount+y.length,y.mode)-v(S[T].lastCount,y.mode),S[T].lastCount+=y.length):(S[T]&&(S[T].lastCount=y.length),C[T][B]=v(y.length,y.mode)+4+u.getCharCountIndicator(y.mode,L))}}Y=I}for(let D=0;D<Y.length;D++)C[Y[D]].end=0;return{map:C,table:S}}(Y,S),Z=_.find_path(D.map,"start","end"),I=[];for(let A=1;A<Z.length-1;A++)I.push(D.table[Z[A]].node);return m.fromArray(function b(P){return P.reduce(function(L,S){const C=L.length-1>=0?L[L.length-1]:null;return C&&C.mode===S.mode?(L[L.length-1].data+=S.data,L):(L.push(S),L)},[])}(I))},m.rawSplit=function(L){return m.fromArray(q(L,e.isKanjiModeEnabled()))}},4792:(M,m)=>{let f;const u=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];m.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return 4*o+17},m.getSymbolTotalCodewords=function(o){return u[o]},m.getBCHDigit=function(a){let o=0;for(;0!==a;)o++,a>>>=1;return o},m.setToSJISFunction=function(o){if("function"!=typeof o)throw new Error('"toSJISFunc" is not a valid function.');f=o},m.isKanjiModeEnabled=function(){return typeof f<"u"},m.toSJIS=function(o){return f(o)}},4406:(M,m)=>{m.isValid=function(u){return!isNaN(u)&&u>=1&&u<=40}},2088:(M,m,f)=>{const u=f(4792),a=f(4655),o=f(2259),l=f(4016),d=f(4406),e=u.getBCHDigit(7973);function g(v,b){return l.getCharCountIndicator(v,b)+4}function w(v,b){let N=0;return v.forEach(function(J){N+=g(J.mode,b)+J.getBitsLength()}),N}m.from=function(b,N){return d.isValid(b)?parseInt(b,10):N},m.getCapacity=function(b,N,J){if(!d.isValid(b))throw new Error("Invalid QR Code version");typeof J>"u"&&(J=l.BYTE);const L=8*(u.getSymbolTotalCodewords(b)-a.getTotalCodewordsCount(b,N));if(J===l.MIXED)return L;const S=L-g(J,b);switch(J){case l.NUMERIC:return Math.floor(S/10*3);case l.ALPHANUMERIC:return Math.floor(S/11*2);case l.KANJI:return Math.floor(S/13);default:return Math.floor(S/8)}},m.getBestVersionForData=function(b,N){let J;const Q=o.from(N,o.M);if(Array.isArray(b)){if(b.length>1)return function q(v,b){for(let N=1;N<=40;N++)if(w(v,N)<=m.getCapacity(N,b,l.MIXED))return N}(b,Q);if(0===b.length)return 1;J=b[0]}else J=b;return function _(v,b,N){for(let J=1;J<=40;J++)if(b<=m.getCapacity(J,N,v))return J}(J.mode,J.getLength(),Q)},m.getEncodedBits=function(b){if(!d.isValid(b)||b<7)throw new Error("Invalid QR Code version");let N=b<<12;for(;u.getBCHDigit(N)-e>=0;)N^=7973<<u.getBCHDigit(N)-e;return b<<12|N}},3210:(M,m,f)=>{const u=f(6355);m.render=function(d,c,e){let _=e,g=c;typeof _>"u"&&(!c||!c.getContext)&&(_=c,c=void 0),c||(g=function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),_=u.getOptions(_);const w=u.getImageWidth(d.modules.size,_),q=g.getContext("2d"),v=q.createImageData(w,w);return u.qrToImageData(v.data,d,_),function a(l,d,c){l.clearRect(0,0,d.width,d.height),d.style||(d.style={}),d.height=c,d.width=c,d.style.height=c+"px",d.style.width=c+"px"}(q,g,w),q.putImageData(v,0,0),g},m.renderToDataURL=function(d,c,e){let _=e;return typeof _>"u"&&(!c||!c.getContext)&&(_=c,c=void 0),_||(_={}),m.render(d,c,_).toDataURL(_.type||"image/png",(_.rendererOpts||{}).quality)}},2334:(M,m,f)=>{const u=f(6355);function a(d,c){const e=d.a/255,_=c+'="'+d.hex+'"';return e<1?_+" "+c+'-opacity="'+e.toFixed(2).slice(1)+'"':_}function o(d,c,e){let _=d+c;return typeof e<"u"&&(_+=" "+e),_}m.render=function(c,e,_){const g=u.getOptions(e),w=c.modules.size,q=c.modules.data,v=w+2*g.margin,b=g.color.light.a?"<path "+a(g.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",N="<path "+a(g.color.dark,"stroke")+' d="'+function l(d,c,e){let _="",g=0,w=!1,q=0;for(let v=0;v<d.length;v++){const b=Math.floor(v%c),N=Math.floor(v/c);!b&&!w&&(w=!0),d[v]?(q++,v>0&&b>0&&d[v-1]||(_+=w?o("M",b+e,.5+N+e):o("m",g,0),g=0,w=!1),b+1<c&&d[v+1]||(_+=o("h",q),q=0)):g++}return _}(q,w,g.margin)+'"/>',P='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+'viewBox="0 0 '+v+" "+v+'" shape-rendering="crispEdges">'+b+N+"</svg>\n";return"function"==typeof _&&_(null,P),P}},6355:(M,m)=>{function f(u){if("number"==typeof u&&(u=u.toString()),"string"!=typeof u)throw new Error("Color should be defined as hex string");let a=u.slice().replace("#","").split("");if(a.length<3||5===a.length||a.length>8)throw new Error("Invalid hex color: "+u);(3===a.length||4===a.length)&&(a=Array.prototype.concat.apply([],a.map(function(l){return[l,l]}))),6===a.length&&a.push("F","F");const o=parseInt(a.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:255&o,hex:"#"+a.slice(0,6).join("")}}m.getOptions=function(a){a||(a={}),a.color||(a.color={});const l=a.width&&a.width>=21?a.width:void 0;return{width:l,scale:l?4:a.scale||4,margin:typeof a.margin>"u"||null===a.margin||a.margin<0?4:a.margin,color:{dark:f(a.color.dark||"#000000ff"),light:f(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},m.getScale=function(a,o){return o.width&&o.width>=a+2*o.margin?o.width/(a+2*o.margin):o.scale},m.getImageWidth=function(a,o){const l=m.getScale(a,o);return Math.floor((a+2*o.margin)*l)},m.qrToImageData=function(a,o,l){const d=o.modules.size,c=o.modules.data,e=m.getScale(d,l),_=Math.floor((d+2*l.margin)*e),g=l.margin*e,w=[l.color.light,l.color.dark];for(let q=0;q<_;q++)for(let v=0;v<_;v++){let b=4*(q*_+v),N=l.color.light;q>=g&&v>=g&&q<_-g&&v<_-g&&(N=w[c[Math.floor((q-g)/e)*d+Math.floor((v-g)/e)]?1:0]),a[b++]=N.r,a[b++]=N.g,a[b++]=N.b,a[b]=N.a}}}}]);